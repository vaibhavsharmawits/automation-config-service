meta:
  domain: ONDC:RET12
  version: 1.2.0
  flowId: Search_and_Custom_Menu_(Incremental_Push)
transaction_data:
  transaction_id: 7bff96fb-28c1-4b0f-82b0-c6e13beb0cfc
  latest_timestamp: '1970-01-01T00:00:00.000Z'
  bap_id: sample-bap-id
  bap_uri: https://bap.example.com
  bpp_id: sample-bpp-id
  bpp_uri: https://bpp.example.com
steps:
  - api: search
    action_id: search_inc
    owner: BAP
    responseFor: null
    unsolicited: false
    description: Bap starts search for incremental changes
    mock:
      generate: >-
        LyoqCiAqIEdlbmVyYXRlcyB0aGUgbW9jayBwYXlsb2FkIGZvciBhbiBBUEkgY2FsbCBpbiB0aGUgdHJhbnNhY3Rpb24gZmxvdy4KICogVGhpcyBmdW5jdGlvbiBhbGxvd3MgY3VzdG9taXphdGlvbiBvZiB0aGUgZGVmYXVsdCBwYXlsb2FkIHVzaW5nIHNlc3Npb24gZGF0YQogKiBmcm9tIHByZXZpb3VzIHN0ZXBzIGFuZCB1c2VyIGlucHV0cy4KICogCiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0UGF5bG9hZCAtIFRoZSBiYXNlIHBheWxvYWQgb2JqZWN0IHdpdGggY29udGV4dCBhbHJlYWR5IHBvcHVsYXRlZC4KICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25EYXRhIC0gRGF0YSBjb2xsZWN0ZWQgZnJvbSBwcmV2aW91cyB0cmFuc2FjdGlvbiBzdGVwcy4KICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25EYXRhLnVzZXJfaW5wdXRzIC0gVXNlci1wcm92aWRlZCBpbnB1dCB2YWx1ZXMgZm9yIHRoaXMgc3RlcC4KICogQHBhcmFtIHsqfSBzZXNzaW9uRGF0YS5ba2V5XSAtIEFueSBzYXZlZCBkYXRhIGZyb20gcHJldmlvdXMgc3RlcHMgKGRlZmluZWQgaW4gc2F2ZURhdGEgY29uZmlnKS4KICogCiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBnZW5lcmF0ZWQgcGF5bG9hZCBvYmplY3QgdG8gYmUgc2VudCBpbiB0aGUgQVBJIHJlcXVlc3QuCiAqLwphc3luYyBmdW5jdGlvbiBnZW5lcmF0ZShkZWZhdWx0UGF5bG9hZCwgc2Vzc2lvbkRhdGEpIHsKICBpZiAoc2Vzc2lvbkRhdGEuaW5jX21vZGUpIHsKICAgIGRlZmF1bHRQYXlsb2FkLm1lc3NhZ2UuaW50ZW50LnRhZ3NbMF0ubGlzdFswXS52YWx1ZSA9ICJzdG9wIjsKICB9CiAgZGVmYXVsdFBheWxvYWQuY29udGV4dC5jaXR5ID0gIioiOwogIAogIHJldHVybiBkZWZhdWx0UGF5bG9hZDsKfQ==
      validate: >-
        LyoqCiAqIFZhbGlkYXRlcyB0aGUgaW5jb21pbmcgcmVxdWVzdCBwYXlsb2FkIGZvciBhbiBBUEkgY2FsbCBpbiB0aGUgdHJhbnNhY3Rpb24gZmxvdy4KICogCiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRQYXlsb2FkIC0gVGhlIGluY29taW5nIHJlcXVlc3QgcGF5bG9hZCB0byB2YWxpZGF0ZS4KICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25EYXRhIC0gRGF0YSBjb2xsZWN0ZWQgZnJvbSBwcmV2aW91cyB0cmFuc2FjdGlvbiBzdGVwcy4KICogCiAqIEByZXR1cm5zIHtPYmplY3R9IHsgdmFsaWQ6IGJvb2xlYW4sIGNvZGU6IG51bWJlciwgZGVzY3JpcHRpb246IHN0cmluZyB9CiAqLwpmdW5jdGlvbiB2YWxpZGF0ZSh0YXJnZXRQYXlsb2FkLCBzZXNzaW9uRGF0YSkgewogIHJldHVybiB7IHZhbGlkOiB0cnVlLCBjb2RlOiAyMDAsIGRlc2NyaXB0aW9uOiAiVmFsaWQgcmVxdWVzdCIgfTsKfQ==
      requirements: >-
        LyoqCiAqIENoZWNrcyBpZiB0aGUgcmVxdWlyZW1lbnRzIGZvciBwcm9jZWVkaW5nIHdpdGggdGhlIEFQSSBjYWxsIGFyZSBtZXQuCiAqIAogKiBAcGFyYW0ge09iamVjdH0gc2Vzc2lvbkRhdGEgLSBEYXRhIGNvbGxlY3RlZCBmcm9tIHByZXZpb3VzIHRyYW5zYWN0aW9uIHN0ZXBzLgogKiAKICogQHJldHVybnMge09iamVjdH0geyB2YWxpZDogYm9vbGVhbiwgY29kZTogbnVtYmVyLCBkZXNjcmlwdGlvbjogc3RyaW5nIH0KICovCmZ1bmN0aW9uIG1lZXRzUmVxdWlyZW1lbnRzKHNlc3Npb25EYXRhKSB7CiAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGNvZGU6IDIwMCwgZGVzY3JpcHRpb246ICJSZXF1aXJlbWVudHMgbWV0IiB9Owp9
      defaultPayload:
        context:
          domain: ONDC:RET12
          action: search
          timestamp: '2026-01-20T09:05:17.039Z'
          transaction_id: 7bff96fb-28c1-4b0f-82b0-c6e13beb0cfc
          message_id: b00ce1b2-b91d-4634-931e-7822bb0cd34c
          bap_id: sample-bap-id
          bap_uri: https://bap.example.com
          ttl: PT30S
          country: IND
          city: '*'
          core_version: 1.2.0
        message:
          intent:
            payment:
              '@ondc/org/buyer_app_finder_fee_type': percent
              '@ondc/org/buyer_app_finder_fee_amount': '3'
            tags:
              - code: catalog_inc
                list:
                  - code: mode
                    value: start
      saveData:
        transactionId: $.context.transaction_id
        latestMessage_id: $.context.message_id
        latestTimestamp: $.context.timestamp
        bapId: $.context.bap_id
        bapUri: $.context.bap_uri
        bppId: $.context.bpp_id
        bppUri: $.context.bpp_uri
        inc_mode: $.message.intent.tags[0].list[0].value
      inputs: {}
  - api: on_search
    action_id: on_search_inc
    owner: BPP
    responseFor: null
    unsolicited: true
    description: BPP returns the incremental changes
    mock:
      generate: >-
        LyoqCiAqIEdlbmVyYXRlcyB0aGUgbW9jayBwYXlsb2FkIGZvciBhbiBBUEkgY2FsbCBpbiB0aGUgdHJhbnNhY3Rpb24gZmxvdy4KICogVGhpcyBmdW5jdGlvbiBhbGxvd3MgY3VzdG9taXphdGlvbiBvZiB0aGUgZGVmYXVsdCBwYXlsb2FkIHVzaW5nIHNlc3Npb24gZGF0YQogKiBmcm9tIHByZXZpb3VzIHN0ZXBzIGFuZCB1c2VyIGlucHV0cy4KICogCiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0UGF5bG9hZCAtIFRoZSBiYXNlIHBheWxvYWQgb2JqZWN0IHdpdGggY29udGV4dCBhbHJlYWR5IHBvcHVsYXRlZC4KICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25EYXRhIC0gRGF0YSBjb2xsZWN0ZWQgZnJvbSBwcmV2aW91cyB0cmFuc2FjdGlvbiBzdGVwcy4KICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25EYXRhLnVzZXJfaW5wdXRzIC0gVXNlci1wcm92aWRlZCBpbnB1dCB2YWx1ZXMgZm9yIHRoaXMgc3RlcC4KICogQHBhcmFtIHsqfSBzZXNzaW9uRGF0YS5ba2V5XSAtIEFueSBzYXZlZCBkYXRhIGZyb20gcHJldmlvdXMgc3RlcHMgKGRlZmluZWQgaW4gc2F2ZURhdGEgY29uZmlnKS4KICogCiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBnZW5lcmF0ZWQgcGF5bG9hZCBvYmplY3QgdG8gYmUgc2VudCBpbiB0aGUgQVBJIHJlcXVlc3QuCiAqLwphc3luYyBmdW5jdGlvbiBnZW5lcmF0ZShkZWZhdWx0UGF5bG9hZCwgc2Vzc2lvbkRhdGEpIHsKICBkZWZhdWx0UGF5bG9hZC5jb250ZXh0LmNpdHkgPSAiKiI7CiAgZGVmYXVsdFBheWxvYWQubWVzc2FnZS5jYXRhbG9nWyJicHAvcHJvdmlkZXJzIl1bMF0uaXRlbXNbMF0udGltZS50aW1lc3RhbXAgPQogIG5ldyBEYXRlKERhdGUubm93KCkgLSAxMzUwKS50b0lTT1N0cmluZygpOwoKICByZXR1cm4gZGVmYXVsdFBheWxvYWQ7Cn0=
      validate: >-
        LyoqCiAqIFZhbGlkYXRlcyB0aGUgaW5jb21pbmcgcmVxdWVzdCBwYXlsb2FkIGZvciBhbiBBUEkgY2FsbCBpbiB0aGUgdHJhbnNhY3Rpb24gZmxvdy4KICogCiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRQYXlsb2FkIC0gVGhlIGluY29taW5nIHJlcXVlc3QgcGF5bG9hZCB0byB2YWxpZGF0ZS4KICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25EYXRhIC0gRGF0YSBjb2xsZWN0ZWQgZnJvbSBwcmV2aW91cyB0cmFuc2FjdGlvbiBzdGVwcy4KICogCiAqIEByZXR1cm5zIHtPYmplY3R9IHsgdmFsaWQ6IGJvb2xlYW4sIGNvZGU6IG51bWJlciwgZGVzY3JpcHRpb246IHN0cmluZyB9CiAqLwpmdW5jdGlvbiB2YWxpZGF0ZSh0YXJnZXRQYXlsb2FkLCBzZXNzaW9uRGF0YSkgewogIHJldHVybiB7IHZhbGlkOiB0cnVlLCBjb2RlOiAyMDAsIGRlc2NyaXB0aW9uOiAiVmFsaWQgcmVxdWVzdCIgfTsKfQ==
      requirements: >-
        LyoqCiAqIENoZWNrcyBpZiB0aGUgcmVxdWlyZW1lbnRzIGZvciBwcm9jZWVkaW5nIHdpdGggdGhlIEFQSSBjYWxsIGFyZSBtZXQuCiAqIAogKiBAcGFyYW0ge09iamVjdH0gc2Vzc2lvbkRhdGEgLSBEYXRhIGNvbGxlY3RlZCBmcm9tIHByZXZpb3VzIHRyYW5zYWN0aW9uIHN0ZXBzLgogKiAKICogQHJldHVybnMge09iamVjdH0geyB2YWxpZDogYm9vbGVhbiwgY29kZTogbnVtYmVyLCBkZXNjcmlwdGlvbjogc3RyaW5nIH0KICovCmZ1bmN0aW9uIG1lZXRzUmVxdWlyZW1lbnRzKHNlc3Npb25EYXRhKSB7CiAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGNvZGU6IDIwMCwgZGVzY3JpcHRpb246ICJSZXF1aXJlbWVudHMgbWV0IiB9Owp9
      defaultPayload:
        context:
          domain: ONDC:RET12
          action: on_search
          timestamp: '2026-01-20T10:27:04.570Z'
          transaction_id: 7bff96fb-28c1-4b0f-82b0-c6e13beb0cfc
          message_id: 6a02cb20-722c-433e-ab13-da8621f5aaa6
          bap_id: sample-bap-id
          bap_uri: https://bap.example.com
          ttl: PT30S
          bpp_id: sample-bpp-id
          bpp_uri: https://bpp.example.com
          country: IND
          city: '*'
          core_version: 1.2.0
        message:
          catalog:
            bpp/providers:
              - id: P1
                items:
                  - id: I1
                    time:
                      label: enable
                      timestamp: '2024-08-12T06:31:44.198Z'
                    parent_item_id: V1
                    descriptor:
                      name: Butterfly Beautiful 12 Gold Necklace
                      symbol: https://sellerNP.com/images/i1.png
                      short_desc: >-
                        18KT Butterfly Beautiful 12 Gold Necklace Pendant with
                        gold finishing
                      long_desc: >-
                        This is 18KT Butterfly Beautiful 12 Gold Necklace
                        Pendant with gold finishing
                      images:
                        - https://sellerNP.com/images/i1.png
                      code: '4:7113'
                    quantity:
                      unitized:
                        measure:
                          unit: unit
                          value: '1'
                      available:
                        count: '99'
                      maximum:
                        count: '8'
                    price:
                      currency: INR
                      value: '2200'
                      maximum_value: '2200'
                    category_id: Necklaces
                    location_id: L1
                    fulfillment_id: F1
                    '@ondc/org/returnable': true
                    '@ondc/org/cancellable': true
                    '@ondc/org/available_on_cod': false
                    '@ondc/org/time_to_ship': P2D
                    '@ondc/org/seller_pickup_return': true
                    '@ondc/org/return_window': P7D
                    '@ondc/org/contact_details_consumer_care': Seller Business,test@gmail.com,9876543210
                    '@ondc/org/statutory_reqs_packaged_commodities':
                      manufacturer_or_packer_name: Seller Business
                      manufacturer_or_packer_address: >-
                        Seller Building Address, Jayanagar, Bengaluru,
                        Karnataka, India - 560011
                      common_or_generic_name_of_commodity: Butterfly Beautiful 12 Gold Necklace
                      month_year_of_manufacture_packing_import: NA
                    tags:
                      - code: origin
                        list:
                          - code: country
                            value: IND
                      - code: attribute
                        list:
                          - code: colour_name
                            value: gold
                          - code: gender
                            value: female
                          - code: colour
                            value: '#C0C0C0'
                          - code: base_metal
                            value: silver
                          - code: plating
                            value: gold
                          - code: size
                            value: '5'
                          - code: brand
                            value: jewellery brand
      saveData:
        transactionId: $.context.transaction_id
        latestMessage_id: $.context.message_id
        latestTimestamp: $.context.timestamp
        bapId: $.context.bap_id
        bapUri: $.context.bap_uri
        bppId: $.context.bpp_id
        bppUri: $.context.bpp_uri
      inputs: {}
  - api: on_search
    action_id: on_search_inc_disable
    owner: BPP
    responseFor: null
    unsolicited: true
    description: please add relevant description
    mock:
      generate: >-
        LyoqCiAqIEdlbmVyYXRlcyB0aGUgbW9jayBwYXlsb2FkIGZvciBhbiBBUEkgY2FsbCBpbiB0aGUgdHJhbnNhY3Rpb24gZmxvdy4KICogVGhpcyBmdW5jdGlvbiBhbGxvd3MgY3VzdG9taXphdGlvbiBvZiB0aGUgZGVmYXVsdCBwYXlsb2FkIHVzaW5nIHNlc3Npb24gZGF0YQogKiBmcm9tIHByZXZpb3VzIHN0ZXBzIGFuZCB1c2VyIGlucHV0cy4KICogCiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0UGF5bG9hZCAtIFRoZSBiYXNlIHBheWxvYWQgb2JqZWN0IHdpdGggY29udGV4dCBhbHJlYWR5IHBvcHVsYXRlZC4KICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25EYXRhIC0gRGF0YSBjb2xsZWN0ZWQgZnJvbSBwcmV2aW91cyB0cmFuc2FjdGlvbiBzdGVwcy4KICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25EYXRhLnVzZXJfaW5wdXRzIC0gVXNlci1wcm92aWRlZCBpbnB1dCB2YWx1ZXMgZm9yIHRoaXMgc3RlcC4KICogQHBhcmFtIHsqfSBzZXNzaW9uRGF0YS5ba2V5XSAtIEFueSBzYXZlZCBkYXRhIGZyb20gcHJldmlvdXMgc3RlcHMgKGRlZmluZWQgaW4gc2F2ZURhdGEgY29uZmlnKS4KICogCiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBnZW5lcmF0ZWQgcGF5bG9hZCBvYmplY3QgdG8gYmUgc2VudCBpbiB0aGUgQVBJIHJlcXVlc3QuCiAqLwphc3luYyBmdW5jdGlvbiBnZW5lcmF0ZShkZWZhdWx0UGF5bG9hZCwgc2Vzc2lvbkRhdGEpIHsKICBkZWZhdWx0UGF5bG9hZC5tZXNzYWdlLmNhdGFsb2dbImJwcC9wcm92aWRlcnMiXSA9IFsKCQl7CgkJCWlkOiAiUDEiLAoJCQlsb2NhdGlvbnM6IFsKCQkJCXsKCQkJCQlpZDogIkwxIiwKCQkJCQl0aW1lOiB7CgkJCQkJCWxhYmVsOiAiY2xvc2UiLAoJCQkJCQl0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwKCQkJCQkJcmFuZ2U6IHsKCQkJCQkJCXN0YXJ0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksCgkJCQkJCX0sCgkJCQkJfSwKCQkJCX0sCgkJCV0sCgkJfSwKCV07CiAgcmV0dXJuIGRlZmF1bHRQYXlsb2FkOwp9
      validate: >-
        LyoqCiAqIFZhbGlkYXRlcyB0aGUgaW5jb21pbmcgcmVxdWVzdCBwYXlsb2FkIGZvciBhbiBBUEkgY2FsbCBpbiB0aGUgdHJhbnNhY3Rpb24gZmxvdy4KICogCiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRQYXlsb2FkIC0gVGhlIGluY29taW5nIHJlcXVlc3QgcGF5bG9hZCB0byB2YWxpZGF0ZS4KICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25EYXRhIC0gRGF0YSBjb2xsZWN0ZWQgZnJvbSBwcmV2aW91cyB0cmFuc2FjdGlvbiBzdGVwcy4KICogCiAqIEByZXR1cm5zIHtPYmplY3R9IHsgdmFsaWQ6IGJvb2xlYW4sIGNvZGU6IG51bWJlciwgZGVzY3JpcHRpb246IHN0cmluZyB9CiAqLwpmdW5jdGlvbiB2YWxpZGF0ZSh0YXJnZXRQYXlsb2FkLCBzZXNzaW9uRGF0YSkgewogIHJldHVybiB7IHZhbGlkOiB0cnVlLCBjb2RlOiAyMDAsIGRlc2NyaXB0aW9uOiAiVmFsaWQgcmVxdWVzdCIgfTsKfQ==
      requirements: >-
        LyoqCiAqIENoZWNrcyBpZiB0aGUgcmVxdWlyZW1lbnRzIGZvciBwcm9jZWVkaW5nIHdpdGggdGhlIEFQSSBjYWxsIGFyZSBtZXQuCiAqIAogKiBAcGFyYW0ge09iamVjdH0gc2Vzc2lvbkRhdGEgLSBEYXRhIGNvbGxlY3RlZCBmcm9tIHByZXZpb3VzIHRyYW5zYWN0aW9uIHN0ZXBzLgogKiAKICogQHJldHVybnMge09iamVjdH0geyB2YWxpZDogYm9vbGVhbiwgY29kZTogbnVtYmVyLCBkZXNjcmlwdGlvbjogc3RyaW5nIH0KICovCmZ1bmN0aW9uIG1lZXRzUmVxdWlyZW1lbnRzKHNlc3Npb25EYXRhKSB7CiAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGNvZGU6IDIwMCwgZGVzY3JpcHRpb246ICJSZXF1aXJlbWVudHMgbWV0IiB9Owp9
      defaultPayload:
        context:
          domain: ONDC:RET12
          action: on_search
          timestamp: '2026-01-21T06:31:01.772Z'
          transaction_id: 7bff96fb-28c1-4b0f-82b0-c6e13beb0cfc
          message_id: 66bf003d-d761-4a00-9162-6633e64f8ea7
          bap_id: sample-bap-id
          bap_uri: https://bap.example.com
          ttl: PT30S
          bpp_id: sample-bpp-id
          bpp_uri: https://bpp.example.com
          country: IND
          city: '*'
          core_version: 1.2.0
        message:
          catalog:
            bpp/providers:
              - id: P1
                time:
                  label: disable
                  timestamp: '2025-01-08T10:20:00.000Z'
      saveData:
        transactionId: $.context.transaction_id
        latestMessage_id: $.context.message_id
        latestTimestamp: $.context.timestamp
        bapId: $.context.bap_id
        bapUri: $.context.bap_uri
        bppId: $.context.bpp_id
        bppUri: $.context.bpp_uri
      inputs: {}
  - api: search
    action_id: search_inc1
    owner: BAP
    responseFor: null
    unsolicited: false
    description: Bap stops search for incremental changes
    mock:
      generate: >-
        LyoqCiAqIEdlbmVyYXRlcyB0aGUgbW9jayBwYXlsb2FkIGZvciBhbiBBUEkgY2FsbCBpbiB0aGUgdHJhbnNhY3Rpb24gZmxvdy4KICogVGhpcyBmdW5jdGlvbiBhbGxvd3MgY3VzdG9taXphdGlvbiBvZiB0aGUgZGVmYXVsdCBwYXlsb2FkIHVzaW5nIHNlc3Npb24gZGF0YQogKiBmcm9tIHByZXZpb3VzIHN0ZXBzIGFuZCB1c2VyIGlucHV0cy4KICogCiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0UGF5bG9hZCAtIFRoZSBiYXNlIHBheWxvYWQgb2JqZWN0IHdpdGggY29udGV4dCBhbHJlYWR5IHBvcHVsYXRlZC4KICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25EYXRhIC0gRGF0YSBjb2xsZWN0ZWQgZnJvbSBwcmV2aW91cyB0cmFuc2FjdGlvbiBzdGVwcy4KICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25EYXRhLnVzZXJfaW5wdXRzIC0gVXNlci1wcm92aWRlZCBpbnB1dCB2YWx1ZXMgZm9yIHRoaXMgc3RlcC4KICogQHBhcmFtIHsqfSBzZXNzaW9uRGF0YS5ba2V5XSAtIEFueSBzYXZlZCBkYXRhIGZyb20gcHJldmlvdXMgc3RlcHMgKGRlZmluZWQgaW4gc2F2ZURhdGEgY29uZmlnKS4KICogCiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBnZW5lcmF0ZWQgcGF5bG9hZCBvYmplY3QgdG8gYmUgc2VudCBpbiB0aGUgQVBJIHJlcXVlc3QuCiAqLwphc3luYyBmdW5jdGlvbiBnZW5lcmF0ZShkZWZhdWx0UGF5bG9hZCwgc2Vzc2lvbkRhdGEpIHsKICBpZiAoc2Vzc2lvbkRhdGEuaW5jX21vZGUpIHsKICAgIGRlZmF1bHRQYXlsb2FkLm1lc3NhZ2UuaW50ZW50LnRhZ3NbMF0ubGlzdFswXS52YWx1ZSA9ICJzdG9wIjsKICB9CiAgZGVmYXVsdFBheWxvYWQuY29udGV4dC5jaXR5ID0gIioiOwogIAogIHJldHVybiBkZWZhdWx0UGF5bG9hZDsKfQ==
      validate: >-
        LyoqCiAqIFZhbGlkYXRlcyB0aGUgaW5jb21pbmcgcmVxdWVzdCBwYXlsb2FkIGZvciBhbiBBUEkgY2FsbCBpbiB0aGUgdHJhbnNhY3Rpb24gZmxvdy4KICogCiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRQYXlsb2FkIC0gVGhlIGluY29taW5nIHJlcXVlc3QgcGF5bG9hZCB0byB2YWxpZGF0ZS4KICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25EYXRhIC0gRGF0YSBjb2xsZWN0ZWQgZnJvbSBwcmV2aW91cyB0cmFuc2FjdGlvbiBzdGVwcy4KICogCiAqIEByZXR1cm5zIHtPYmplY3R9IHsgdmFsaWQ6IGJvb2xlYW4sIGNvZGU6IG51bWJlciwgZGVzY3JpcHRpb246IHN0cmluZyB9CiAqLwpmdW5jdGlvbiB2YWxpZGF0ZSh0YXJnZXRQYXlsb2FkLCBzZXNzaW9uRGF0YSkgewogIHJldHVybiB7IHZhbGlkOiB0cnVlLCBjb2RlOiAyMDAsIGRlc2NyaXB0aW9uOiAiVmFsaWQgcmVxdWVzdCIgfTsKfQ==
      requirements: >-
        LyoqCiAqIENoZWNrcyBpZiB0aGUgcmVxdWlyZW1lbnRzIGZvciBwcm9jZWVkaW5nIHdpdGggdGhlIEFQSSBjYWxsIGFyZSBtZXQuCiAqIAogKiBAcGFyYW0ge09iamVjdH0gc2Vzc2lvbkRhdGEgLSBEYXRhIGNvbGxlY3RlZCBmcm9tIHByZXZpb3VzIHRyYW5zYWN0aW9uIHN0ZXBzLgogKiAKICogQHJldHVybnMge09iamVjdH0geyB2YWxpZDogYm9vbGVhbiwgY29kZTogbnVtYmVyLCBkZXNjcmlwdGlvbjogc3RyaW5nIH0KICovCmZ1bmN0aW9uIG1lZXRzUmVxdWlyZW1lbnRzKHNlc3Npb25EYXRhKSB7CiAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGNvZGU6IDIwMCwgZGVzY3JpcHRpb246ICJSZXF1aXJlbWVudHMgbWV0IiB9Owp9
      defaultPayload:
        context:
          domain: ONDC:RET12
          action: search
          timestamp: '2026-01-21T07:04:52.209Z'
          transaction_id: 7bff96fb-28c1-4b0f-82b0-c6e13beb0cfc
          message_id: cf8ad8f5-da54-4f86-87d5-1ec92141f823
          bap_id: sample-bap-id
          bap_uri: https://bap.example.com
          ttl: PT30S
          country: IND
          city: '*'
          core_version: 1.2.0
        message:
          intent:
            payment:
              '@ondc/org/buyer_app_finder_fee_type': percent
              '@ondc/org/buyer_app_finder_fee_amount': '3'
            tags:
              - code: catalog_inc
                list:
                  - code: mode
                    value: stop
      saveData:
        transactionId: $.context.transaction_id
        latestMessage_id: $.context.message_id
        latestTimestamp: $.context.timestamp
        bapId: $.context.bap_id
        bapUri: $.context.bap_uri
        bppId: $.context.bpp_id
        bppUri: $.context.bpp_uri
      inputs: {}
transaction_history:
  - action_id: search_inc
    payload:
      context:
        domain: ONDC:RET12
        action: search
        timestamp: '2026-02-16T10:35:08.472Z'
        transaction_id: 7bff96fb-28c1-4b0f-82b0-c6e13beb0cfc
        message_id: 03970204-f48a-4bd0-8806-e37b067adb92
        bap_id: sample-bap-id
        bap_uri: https://bap.example.com
        ttl: PT30S
        country: IND
        city: '*'
        core_version: 1.2.0
      message:
        intent:
          payment:
            '@ondc/org/buyer_app_finder_fee_type': percent
            '@ondc/org/buyer_app_finder_fee_amount': '3'
          tags:
            - code: catalog_inc
              list:
                - code: mode
                  value: start
    action: search
    saved_info: {}
  - action_id: on_search_inc
    payload:
      context:
        domain: ONDC:RET12
        action: on_search
        timestamp: '2026-02-16T10:35:08.486Z'
        transaction_id: 7bff96fb-28c1-4b0f-82b0-c6e13beb0cfc
        message_id: 75f02827-411b-4bac-81d5-aac4acea60dd
        bap_id: sample-bap-id
        bap_uri: https://bap.example.com
        ttl: PT30S
        bpp_id: sample-bpp-id
        bpp_uri: https://bpp.example.com
        country: IND
        city: '*'
        core_version: 1.2.0
      message:
        catalog:
          bpp/providers:
            - id: P1
              items:
                - id: I1
                  time:
                    label: enable
                    timestamp: '2026-02-16T10:35:07.146Z'
                  parent_item_id: V1
                  descriptor:
                    name: Butterfly Beautiful 12 Gold Necklace
                    symbol: https://sellerNP.com/images/i1.png
                    short_desc: >-
                      18KT Butterfly Beautiful 12 Gold Necklace Pendant with
                      gold finishing
                    long_desc: >-
                      This is 18KT Butterfly Beautiful 12 Gold Necklace Pendant
                      with gold finishing
                    images:
                      - https://sellerNP.com/images/i1.png
                    code: '4:7113'
                  quantity:
                    unitized:
                      measure:
                        unit: unit
                        value: '1'
                    available:
                      count: '99'
                    maximum:
                      count: '8'
                  price:
                    currency: INR
                    value: '2200'
                    maximum_value: '2200'
                  category_id: Necklaces
                  location_id: L1
                  fulfillment_id: F1
                  '@ondc/org/returnable': true
                  '@ondc/org/cancellable': true
                  '@ondc/org/available_on_cod': false
                  '@ondc/org/time_to_ship': P2D
                  '@ondc/org/seller_pickup_return': true
                  '@ondc/org/return_window': P7D
                  '@ondc/org/contact_details_consumer_care': Seller Business,test@gmail.com,9876543210
                  '@ondc/org/statutory_reqs_packaged_commodities':
                    manufacturer_or_packer_name: Seller Business
                    manufacturer_or_packer_address: >-
                      Seller Building Address, Jayanagar, Bengaluru, Karnataka,
                      India - 560011
                    common_or_generic_name_of_commodity: Butterfly Beautiful 12 Gold Necklace
                    month_year_of_manufacture_packing_import: NA
                  tags:
                    - code: origin
                      list:
                        - code: country
                          value: IND
                    - code: attribute
                      list:
                        - code: colour_name
                          value: gold
                        - code: gender
                          value: female
                        - code: colour
                          value: '#C0C0C0'
                        - code: base_metal
                          value: silver
                        - code: plating
                          value: gold
                        - code: size
                          value: '5'
                        - code: brand
                          value: jewellery brand
    action: on_search
    saved_info: {}
  - action_id: on_search_inc_disable
    payload:
      context:
        domain: ONDC:RET12
        action: on_search
        timestamp: '2026-02-16T10:35:08.498Z'
        transaction_id: 7bff96fb-28c1-4b0f-82b0-c6e13beb0cfc
        message_id: ef2bfc16-fb89-4f42-b435-b85504504bd6
        bap_id: sample-bap-id
        bap_uri: https://bap.example.com
        ttl: PT30S
        bpp_id: sample-bpp-id
        bpp_uri: https://bpp.example.com
        country: IND
        city: '*'
        core_version: 1.2.0
      message:
        catalog:
          bpp/providers:
            - id: P1
              locations:
                - id: L1
                  time:
                    label: close
                    timestamp: '2026-02-16T10:35:08.505Z'
                    range:
                      start: '2026-02-16T10:35:08.505Z'
    action: on_search
    saved_info: {}
  - action_id: search_inc1
    payload:
      context:
        domain: ONDC:RET12
        action: search
        timestamp: '2026-02-16T10:35:08.506Z'
        transaction_id: 7bff96fb-28c1-4b0f-82b0-c6e13beb0cfc
        message_id: 6f3ebe8c-af37-43ec-9559-afd23a31fffe
        bap_id: sample-bap-id
        bap_uri: https://bap.example.com
        ttl: PT30S
        country: IND
        city: '*'
        core_version: 1.2.0
      message:
        intent:
          payment:
            '@ondc/org/buyer_app_finder_fee_type': percent
            '@ondc/org/buyer_app_finder_fee_amount': '3'
          tags:
            - code: catalog_inc
              list:
                - code: mode
                  value: stop
    action: search
    saved_info: {}
validationLib: ''
helperLib: >-
  CmNvbnN0IFJFVDEwR1JPQ0VSWTEyNUNhdGFsb2cgPSBKU09OLnBhcnNlKAogIEpTT04uc3RyaW5naWZ5KHsKICAgIGNhdGFsb2c6IHsKICAgICAgImJwcC9mdWxmaWxsbWVudHMiOiBbCiAgICAgICAgeyBpZDogIkYxIiwgdHlwZTogIkRlbGl2ZXJ5IiB9LAogICAgICAgIHsgaWQ6ICJGMiIsIHR5cGU6ICJTZWxmLVBpY2t1cCIgfSwKICAgICAgICB7IGlkOiAiRjMyODIyIiwgdHlwZTogIkJ1eWVyLURlbGl2ZXJ5IiB9CiAgICAgIF0sCiAgICAgICJicHAvZGVzY3JpcHRvciI6IHsKICAgICAgICBuYW1lOiAiTW9jayBTZWxsZXIgTlAiLAogICAgICAgIHN5bWJvbDogImh0dHBzOi8vc2VsbGVyTlAuY29tL2ltYWdlcy9ucC5wbmciLAogICAgICAgIHNob3J0X2Rlc2M6ICJTZWxsZXIgTWFya2V0cGxhY2UiLAogICAgICAgIGxvbmdfZGVzYzogIlNlbGxlciBNYXJrZXRwbGFjZSIsCiAgICAgICAgaW1hZ2VzOiBbImh0dHBzOi8vc2VsbGVyTlAuY29tL2ltYWdlcy9ucC5wbmciXSwKICAgICAgICB0YWdzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIGNvZGU6ICJicHBfdGVybXMiLAogICAgICAgICAgICBsaXN0OiBbeyBjb2RlOiAibnBfdHlwZSIsIHZhbHVlOiAiTVNOIiB9XQogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgImJwcC9wcm92aWRlcnMiOiBbCiAgICAgICAgewogICAgICAgICAgdGltZTogewogICAgICAgICAgICBsYWJlbDogImVuYWJsZSIsCiAgICAgICAgICAgIHRpbWVzdGFtcDogIjIwMjQtMTItMjNUMDY6NTU6NDUuMDM1WiIKICAgICAgICAgIH0sCiAgICAgICAgICBkZXNjcmlwdG9yOiB7CiAgICAgICAgICAgIG5hbWU6ICJTdG9yZSAxIiwKICAgICAgICAgICAgc3ltYm9sOiAiaHR0cHM6Ly9zZWxsZXJOUC5jb20vaW1hZ2VzL3N0b3JlMS5wbmciLAogICAgICAgICAgICBzaG9ydF9kZXNjOiAiU3RvcmUgMSIsCiAgICAgICAgICAgIGxvbmdfZGVzYzogIlN0b3JlIDEiLAogICAgICAgICAgICBpbWFnZXM6IFsiaHR0cHM6Ly9zZWxsZXJOUC5jb20vaW1hZ2VzL3N0b3JlMS5wbmciXQogICAgICAgICAgfSwKICAgICAgICAgIHR0bDogIlAxRCIsCiAgICAgICAgICBsb2NhdGlvbnM6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgIGlkOiAiTDEiLAogICAgICAgICAgICAgIHRpbWU6IHsKICAgICAgICAgICAgICAgIGxhYmVsOiAiZW5hYmxlIiwKICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogIjIwMjQtMTItMjNUMDY6NTU6NDUuMDM1WiIsCiAgICAgICAgICAgICAgICBkYXlzOiAiMSwyLDMsNCw1LDYsNyIsCiAgICAgICAgICAgICAgICBzY2hlZHVsZTogeyBob2xpZGF5czogW10gfSwKICAgICAgICAgICAgICAgIHJhbmdlOiB7IHN0YXJ0OiAiMDAwMCIsIGVuZDogIjIzNTkiIH0KICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGdwczogIjE5LjEyOTA3Niw3Mi44MjU4MDMiLAogICAgICAgICAgICAgIGFkZHJlc3M6IHsKICAgICAgICAgICAgICAgIHN0cmVldDogIjEgJiAyLEFNQVIgSllPVEkgQ0hTLkJMREcuLE9QUC5OQU5EIEtSSVBBIEhBTEwiLAogICAgICAgICAgICAgICAgbG9jYWxpdHk6ICJBTkRIRVJJIEZPVVIgQlVOR0xPVyBBTUFSIEpZT1RJIENIUyIsCiAgICAgICAgICAgICAgICBjaXR5OiAibW9jay1zZWxsZXItY2l0eSIsCiAgICAgICAgICAgICAgICBzdGF0ZTogIm1vY2stc3RhdGUiLAogICAgICAgICAgICAgICAgYXJlYV9jb2RlOiAiNDAwMDUzIgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgY2lyY2xlOiB7CiAgICAgICAgICAgICAgICBncHM6ICIxOS4xMjkwNzYsNzIuODI1ODAzIiwKICAgICAgICAgICAgICAgIHJhZGl1czogeyB1bml0OiAia20iLCB2YWx1ZTogIjMiIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIF0sCiAgICAgICAgICBmdWxmaWxsbWVudHM6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgIGlkOiAiRjEiLAogICAgICAgICAgICAgIHR5cGU6ICJEZWxpdmVyeSIsCiAgICAgICAgICAgICAgY29udGFjdDogeyBwaG9uZTogIjk1OTQ2NjM3MTAiLCBlbWFpbDogIm5vYm9keUBub21haWwuY29tIiB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBpZDogIkYyIiwKICAgICAgICAgICAgICB0eXBlOiAiU2VsZi1QaWNrdXAiLAogICAgICAgICAgICAgIGNvbnRhY3Q6IHsgcGhvbmU6ICI5NTk0NjYzOTk5IiwgZW1haWw6ICJtb2NrQG5vbWFpbC5jb20iIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGlkOiAiRjMyODIyIiwKICAgICAgICAgICAgICB0eXBlOiAiQnV5ZXItRGVsaXZlcnkiLAogICAgICAgICAgICAgIGNvbnRhY3Q6IHsgcGhvbmU6ICI5NTk0NjYzODg4IiwgZW1haWw6ICJtb2NrMkBub21haWwuY29tIiB9CiAgICAgICAgICAgIH0KICAgICAgICAgIF0sCiAgICAgICAgICBpdGVtczogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgZGVzY3JpcHRvcjogewogICAgICAgICAgICAgICAgbmFtZTogIlBsYWluIEF0dGEiLAogICAgICAgICAgICAgICAgY29kZTogIjE6OTc4MDIwMTM3OTYyIiwKICAgICAgICAgICAgICAgIHN5bWJvbDogImh0dHBzOi8vc2VsbGVyTlAuY29tL2ltYWdlcy9pMS5wbmciLAogICAgICAgICAgICAgICAgc2hvcnRfZGVzYzogIlBsYWluIEF0dGEiLAogICAgICAgICAgICAgICAgbG9uZ19kZXNjOiAiUGxhaW4gQXR0YSIsCiAgICAgICAgICAgICAgICBpbWFnZXM6IFsiaHR0cHM6Ly9zZWxsZXJOUC5jb20vaW1hZ2VzL2kxLnBuZyJdCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBwcmljZTogewogICAgICAgICAgICAgICAgY3VycmVuY3k6ICJJTlIiLAogICAgICAgICAgICAgICAgdmFsdWU6ICIyMDAuMDAiLAogICAgICAgICAgICAgICAgbWF4aW11bV92YWx1ZTogIjIwMC4wMCIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHF1YW50aXR5OiB7CiAgICAgICAgICAgICAgICB1bml0aXplZDogewogICAgICAgICAgICAgICAgICBtZWFzdXJlOiB7IHVuaXQ6ICJraWxvZ3JhbSIsIHZhbHVlOiAiMyIgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGF2YWlsYWJsZTogeyBjb3VudDogIjk5IiB9LAogICAgICAgICAgICAgICAgbWF4aW11bTogeyBjb3VudDogIjk5IiB9CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBjYXRlZ29yeV9pZDogIkF0dGEsIEZsb3VycyBhbmQgU29vamkiLAogICAgICAgICAgICAgIGZ1bGZpbGxtZW50X2lkOiAiRjEiLAogICAgICAgICAgICAgIGxvY2F0aW9uX2lkOiAiTDEiLAogICAgICAgICAgICAgICJAb25kYy9vcmcvcmV0dXJuYWJsZSI6IHRydWUsCiAgICAgICAgICAgICAgIkBvbmRjL29yZy9jYW5jZWxsYWJsZSI6IHRydWUsCiAgICAgICAgICAgICAgIkBvbmRjL29yZy9yZXR1cm5fd2luZG93IjogIlA3RCIsCiAgICAgICAgICAgICAgIkBvbmRjL29yZy9zZWxsZXJfcGlja3VwX3JldHVybiI6IGZhbHNlLAogICAgICAgICAgICAgICJAb25kYy9vcmcvdGltZV90b19zaGlwIjogIlBUNU0iLAogICAgICAgICAgICAgICJAb25kYy9vcmcvYXZhaWxhYmxlX29uX2NvZCI6IHRydWUsCiAgICAgICAgICAgICAgIkBvbmRjL29yZy9jb250YWN0X2RldGFpbHNfY29uc3VtZXJfY2FyZSI6CiAgICAgICAgICAgICAgICAiUmFtZXNoLHJhbWVzaEBhYmMuY29tLDE4MDA0MjU0NDQ0IiwKICAgICAgICAgICAgICAiQG9uZGMvb3JnL3N0YXR1dG9yeV9yZXFzX3BhY2thZ2VkX2NvbW1vZGl0aWVzIjogewogICAgICAgICAgICAgICAgbWFudWZhY3R1cmVyX29yX3BhY2tlcl9uYW1lOiAiSVRDIiwKICAgICAgICAgICAgICAgIG1hbnVmYWN0dXJlcl9vcl9wYWNrZXJfYWRkcmVzczoKICAgICAgICAgICAgICAgICAgIklUQyBRdWFsaXR5IENhcmUgQ2VsbCxQLk8gQm94IE5vLjU5MixCYW5nYWxvcmUtNTYwMDA1IiwKICAgICAgICAgICAgICAgIGNvbW1vbl9vcl9nZW5lcmljX25hbWVfb2ZfY29tbW9kaXR5OiAiQXNoaXJ3YWQgQXR0YSIsCiAgICAgICAgICAgICAgICBtb250aF95ZWFyX29mX21hbnVmYWN0dXJlX3BhY2tpbmdfaW1wb3J0OiAiMDEvMjAyMyIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHRpbWU6IHsKICAgICAgICAgICAgICAgIGxhYmVsOiAiZW5hYmxlIiwKICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogIjIwMjQtMTItMjNUMDY6NTU6NDUuMDM1WiIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHRhZ3M6IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgY29kZTogIm9yaWdpbiIsCiAgICAgICAgICAgICAgICAgIGxpc3Q6IFt7IGNvZGU6ICJjb3VudHJ5IiwgdmFsdWU6ICJJTkQiIH1dCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICBpZDogIkkxIiwKICAgICAgICAgICAgICBwYXJlbnRfaXRlbV9pZDogIlYxIgogICAgICAgICAgICB9CiAgICAgICAgICBdLAogICAgICAgICAgaWQ6ICJQMSIKICAgICAgICB9CiAgICAgIF0KICAgIH0KICB9KQopOwoK

flows:
  - id: OnDemand_Assign_driver_on_onconfirm
    tags: ["WORKBENCH","MANDATORY"]
    description: On-Demand - Assign driver on on-confirm
    sequence:
      - key: search_ride
        type: search
        unsolicited: false
        pair: on_search
        owner: BAP
        expect: true
        input:
          - name: city_code
            label: Enter city code
            type: text
            payloadField: $.context.location.city.code
          - name: start_gps
            label: Enter start gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='START')].location.gps
          - name: end_gps
            label: Enter end gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='END')].location.gps
      - key: on_search
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: false
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_unsolicited
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: track_ride
        type: track
        unsolicited: false
        pair: on_track_ride
        owner: BAP
        expect: false
      - key: on_track_ride
        type: on_track
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_arrived
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_started
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_update
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: status
        type: status
        unsolicited: false
        pair: on_status_solicited
        owner: BAP
        expect: false
      - key: on_status_solicited
        type: on_status
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
  - id: OnDemand_Assign_driver_post_on_ confirm
    tags: ["WORKBENCH","MANDATORY"]
    description: On-Demand - Assign driver post on-confirm
    sequence:
      - key: search_ride
        type: search
        unsolicited: false
        pair: on_search
        owner: BAP
        expect: true
        input:
          - name: city_code
            label: Enter city code
            type: text
            payloadField: $.context.location.city.code
          - name: start_gps
            label: Enter start gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='START')].location.gps
          - name: end_gps
            label: Enter end gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='END')].location.gps
      - key: on_search
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: false
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm_driver_not_assigned
        owner: BAP
        expect: false
      - key: on_confirm_driver_not_assigned
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_update_ride
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: track
        type: track
        unsolicited: false
        pair: on_track
        owner: BAP
        expect: false
      - key: on_track
        type: on_track
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_unsolicited
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_arrived
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_started
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: status
        type: status
        unsolicited: false
        pair: on_status_solicited
        owner: BAP
        expect: false
      - key: on_status_solicited
        type: on_status
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
  - id: OnDemand_Purple_Tags_Assign_driver_on_onconfirm
    tags: ["WORKBENCH","MANDATORY"]
    description: On-Demand - Purple Tags (Assign driver on on-confirm)
    sequence:
      - key: search_ride
        type: search
        unsolicited: false
        pair: on_search_purple
        owner: BAP
        expect: true
        input:
          - name: city_code
            label: Enter city code
            type: text
            payloadField: $.context.location.city.code
          - name: start_gps
            label: Enter start gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='START')].location.gps
          - name: end_gps
            label: Enter end gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='END')].location.gps
      - key: on_search_purple
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select_with_purple_tags
        type: select
        unsolicited: false
        pair: on_select_with_purple_tags
        owner: BAP
        expect: false
      - key: on_select_with_purple_tags
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm_ride
        owner: BAP
        expect: false
      - key: on_confirm_ride
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_unsolicited
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: track
        type: track
        unsolicited: false
        pair: on_track
        owner: BAP
        expect: false
      - key: on_track
        type: on_track
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_arrived
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_started
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_update_ride_with_purple
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: status
        type: status
        unsolicited: false
        pair: on_status_solicited
        owner: BAP
        expect: false
      - key: on_status_solicited
        type: on_status
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
  - id: OnDemand_Assign_driver_post_onconfirmSelfPickup
    tags: ["WORKBENCH","MANDATORY"]
    description: On-Demand - Assign driver post on-confirm(Self-Pickup)
    sequence:
      - key: search_ride
        type: search
        unsolicited: false
        pair: on_search_self_pickup
        owner: BAP
        expect: true
        input:
          - name: city_code
            label: Enter city code
            type: text
            payloadField: $.context.location.city.code
          - name: start_gps
            label: Enter start gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='START')].location.gps
          - name: end_gps
            label: Enter end gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='END')].location.gps
      - key: on_search_self_pickup
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: false
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init_with_self_pickup
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm_self_pickup
        owner: BAP
        expect: false
      - key: on_confirm_self_pickup
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_update_ride_self_pickup
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      # - key: on_status_unsolicited
      #   type: on_status
      #   unsolicited: true
      #   pair: null
      #   owner: BPP
      #   expect: false
      # - key: on_status_ride_arrived
      #   type: on_status
      #   unsolicited: true
      #   pair: null
      #   owner: BPP
      #   expect: false
      - key: track
        type: track
        unsolicited: false
        pair: on_track
        owner: BAP
        expect: false
      - key: on_track
        type: on_track
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_started
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: status
        type: status
        unsolicited: false
        pair: on_status_solicited
        owner: BAP
        expect: false
      - key: on_status_solicited
        type: on_status
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
  - id: OnDemand_Ride_cancellation_by_driver
    tags: ["WORKBENCH","MANDATORY"]
    description: On-Demand - Ride cancellation by driver
    sequence:
      - key: search_ride
        type: search
        unsolicited: false
        pair: on_search
        owner: BAP
        expect: true
        input:
          - name: city_code
            label: Enter city code
            type: text
            payloadField: $.context.location.city.code
          - name: start_gps
            label: Enter start gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='START')].location.gps
          - name: end_gps
            label: Enter end gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='END')].location.gps
      - key: on_search
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: false
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm_ride
        owner: BAP
        expect: false
      - key: on_confirm_ride
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_cancel_async
        type: on_cancel
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
  - id: OnDemand_Ride_cancellation_by_rider
    tags: ["WORKBENCH","MANDATORY"]
    description: On-Demand - Ride cancellation by rider
    sequence:
      - key: search_ride
        type: search
        unsolicited: false
        pair: on_search
        owner: BAP
        expect: true
        input:
          - name: city_code
            label: Enter city code
            type: text
            payloadField: $.context.location.city.code
          - name: start_gps
            label: Enter start gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='START')].location.gps
          - name: end_gps
            label: Enter end gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='END')].location.gps
      - key: on_search
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: false
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm_ride
        owner: BAP
        expect: false
      - key: on_confirm_ride
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_unsolicited
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_arrived
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: cancel
        type: cancel
        unsolicited: false
        pair: on_cancel_ride_cancel
        owner: BAP
        expect: false
      - key: on_cancel_ride_cancel
        type: on_cancel
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: cancel_hard
        type: cancel
        unsolicited: false
        pair: on_cancel_hard
        owner: BAP
        expect: false
      - key: on_cancel_hard
        type: on_cancel
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
  - id: OnDemand_Ride_Technical_Cancellation_Flow
    tags: ["WORKBENCH","MANDATORY"]
    description: On-Demand - Technical Cancellation Flow
    sequence:
      - key: search_ride
        type: search
        unsolicited: false
        pair: on_search
        owner: BAP
        expect: true
        input:
          - name: city_code
            label: Enter city code
            type: text
            payloadField: $.context.location.city.code
          - name: start_gps
            label: Enter start gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='START')].location.gps
          - name: end_gps
            label: Enter end gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='END')].location.gps
      - key: on_search
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: false
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm_ride
        owner: BAP
        expect: false
      - key: on_confirm_technical
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: cancel_technical
        type: cancel
        unsolicited: false
        pair: on_cancel_ride_cancel
        owner: BAP
        expect: false
      - key: on_cancel_ride_cancel
        type: on_cancel
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: cancel_technical_hard
        type: cancel
        unsolicited: false
        pair: on_cancel_hard
        owner: BAP
        expect: false
      - key: on_cancel_hard
        type: on_cancel
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
  - id: Driver_not_found_on_onconfirm
    tags: ["WORKBENCH","MANDATORY"]
    description: Driver not found on on_confirm
    sequence:
      - key: search_ride
        type: search
        unsolicited: false
        pair: on_search
        owner: BAP
        expect: true
        input:
          - name: city_code
            label: Enter city code
            type: text
            payloadField: $.context.location.city.code
          - name: start_gps
            label: Enter start gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='START')].location.gps
          - name: end_gps
            label: Enter end gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='END')].location.gps
      - key: on_search
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: false
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm_driver_not_found
        owner: BAP
        expect: false
      - key: on_confirm_driver_not_found
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
  - id: Driver_not_found_post_onconfirm
    tags: ["WORKBENCH","MANDATORY"]
    description: Driver not found post on_confirm
    sequence:
      - key: search_ride
        type: search
        unsolicited: false
        pair: on_search
        owner: BAP
        expect: true
        input:
          - name: city_code
            label: Enter city code
            type: text
            payloadField: $.context.location.city.code
          - name: start_gps
            label: Enter start gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='START')].location.gps
          - name: end_gps
            label: Enter end gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='END')].location.gps
      - key: on_search
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: false
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm_driver_not_assigned
        owner: BAP
        expect: false
      - key: on_confirm_driver_not_assigned
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_cancel_rider_not_found
        type: on_cancel
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
  - id: OnDemand_Ride_with_multiple_stops
    tags: ["WORKBENCH","MANDATORY"]
    description: On-Demand - Ride with multiple stops
    sequence:
      - key: search
        type: search
        unsolicited: false
        pair: on_search_with_multiple_stops
        owner: BAP
        expect: true
        input:
          - name: city_code
            label: Enter city code
            type: text
            payloadField: $.context.location.city.code
          - name: start_gps
            label: Enter start gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='START')].location.gps
          - name: intermediate_gps
            label: Enter intermediate gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='INTERMEDIATE_STOP')].location.gps
          - name: end_gps
            label: Enter end gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='END')].location.gps
      - key: on_search_with_multiple_stops
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: false
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_unsolicited
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: track
        type: track
        unsolicited: false
        pair: on_track
        owner: BAP
        expect: false
      - key: on_track
        type: on_track
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_arrived
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_started
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_update
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: status
        type: status
        unsolicited: false
        pair: on_status_solicited
        owner: BAP
        expect: false
      - key: on_status_solicited
        type: on_status
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
  - id: OnDemand_Update_Stop
    tags: ["WORKBENCH","MANDATORY"]
    description: On-Demand - Update Stop
    sequence:
      - key: search
        type: search
        unsolicited: false
        pair: on_search
        owner: BAP
        expect: true
        input:
          - name: city_code
            label: Enter city code
            type: text
            payloadField: $.context.location.city.code
          - name: start_gps
            label: Enter start gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='START')].location.gps
          - name: intermediate_gps
            label: Enter intermediate gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='INTERMEDIATE_STOP')].location.gps
          - name: end_gps
            label: Enter end gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='END')].location.gps
      - key: on_search
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: false
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_unsolicited
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: track
        type: track
        unsolicited: false
        pair: on_track
        owner: BAP
        expect: false
      - key: on_track
        type: on_track
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_arrived
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: update
        type: update
        unsolicited: false
        pair: on_update_soft_update
        owner: BAP
        expect: false
        # input:
        #   - name: update_end_gps
        #     label: Enter updated end gps coordinates
        #     type: text
        #     payloadField: $.message.order.fulfillments[0].stops[?(@.type=='END')].location.gps
      - key: on_update_soft_update
        type: on_update
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: update_hard
        type: update
        unsolicited: false
        pair: on_update_ride_updated
        owner: BAP
        expect: false
      - key: on_update_ride_updated
        type: on_update
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_started
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_update
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: status
        type: status
        unsolicited: false
        pair: on_status_solicited
        owner: BAP
        expect: false
      - key: on_status_solicited
        type: on_status
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
  - id: OnDemand_Pre_Order_Bid
    tags: ["WORKBENCH","MANDATORY"]
    description: On-Demand - Pre Order Bid
    sequence:
      - key: search_ride
        type: search
        unsolicited: false
        pair: on_search
        owner: BAP
        expect: true
        input:
          - name: city_code
            label: Enter city code
            type: text
            payloadField: $.context.location.city.code
          - name: start_gps
            label: Enter start gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='START')].location.gps
          - name: end_gps
            label: Enter end gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='END')].location.gps
      - key: on_search
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select_preorder_bid
        type: select
        unsolicited: false
        pair: on_select_preorder
        owner: BAP
        expect: false
      - key: on_select_preorder
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_unsolicited
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: track
        type: track
        unsolicited: false
        pair: on_track
        owner: BAP
        expect: false
      - key: on_track
        type: on_track
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_arrived
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_started
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_update
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: status
        type: status
        unsolicited: false
        pair: on_status_solicited
        owner: BAP
        expect: false
      - key: on_status_solicited
        type: on_status
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
  - id: OnDemand_Post_Order_Tip
    tags: ["WORKBENCH","MANDATORY"]
    description: On-Demand - Post Order Tip
    sequence:
      - key: search_ride
        type: search
        unsolicited: false
        pair: on_search
        owner: BAP
        expect: true
        input:
          - name: city_code
            label: Enter city code
            type: text
            payloadField: $.context.location.city.code
          - name: start_gps
            label: Enter start gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='START')].location.gps
          - name: end_gps
            label: Enter end gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='END')].location.gps
      - key: on_search
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: false
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_unsolicited
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: track
        type: track
        unsolicited: false
        pair: on_track
        owner: BAP
        expect: false
      - key: on_track
        type: on_track
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_arrived
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_started
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_update
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: status
        type: status
        unsolicited: false
        pair: on_status_solicited
        owner: BAP
        expect: false
      - key: on_status_solicited
        type: on_status
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: update_quote
        type: update
        unsolicited: false
        pair: on_update_quote
        owner: BAP
        expect: false
      - key: on_update_quote
        type: on_update
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
  - id: OnDemand_Rental
    tags: ["WORKBENCH","MANDATORY"]
    description: On-Demand - Rental
    sequence:
      - key: search_rental
        type: search
        unsolicited: false
        pair: on_search_rental
        owner: BAP
        expect: true
        input:
          - name: city_code
            label: Enter city code
            type: text
            payloadField: $.context.location.city.code
          - name: start_gps
            label: Enter start gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='START')].location.gps
      - key: on_search_rental
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select_rental
        type: select
        unsolicited: false
        pair: on_select_rental
        owner: BAP
        expect: false
        input:
          - name: select_input
            label: Enter
            type: trv10_select
      - key: on_select_rental
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init_rental
        type: init
        unsolicited: false
        pair: on_init_rental
        owner: BAP
        expect: false
      - key: on_init_rental
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm_on_demand_rental
        owner: BAP
        expect: false
      - key: on_confirm_on_demand_rental
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_unsolicited
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: track
        type: track
        unsolicited: false
        pair: on_track
        owner: BAP
        expect: false
      - key: on_track
        type: on_track
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_arrived
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_started
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_update
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: status
        type: status
        unsolicited: false
        pair: on_status_solicited
        owner: BAP
        expect: false
      - key: on_status_solicited
        type: on_status
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
  - id: Schedule_Rental
    tags: ["WORKBENCH","MANDATORY"]
    description: Schedule - Rental
    sequence:
      - key: search_schedule_rental
        type: search
        unsolicited: false
        pair: on_search_schedule_rental
        owner: BAP
        expect: true
        input:
          - name: select_input
            label: Enter
            type: trv10_schedule_rental
      - key: on_search_schedule_rental
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select_rental
        type: select
        unsolicited: false
        pair: on_select_rental
        owner: BAP
        expect: false
        input:
          - name: select_input
            label: Enter
            type: trv10_select
      - key: on_select_rental
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init_rental
        type: init
        unsolicited: false
        pair: on_init_rental
        owner: BAP
        expect: false
      - key: on_init_rental
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm_rental
        owner: BAP
        expect: false
      - key: on_confirm_rental
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_update_ride_assigned
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: track
        type: track
        unsolicited: false
        pair: on_track
        owner: BAP
        expect: false
      - key: on_track
        type: on_track
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_unsolicited
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_arrived
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_started
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_update
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: status
        type: status
        unsolicited: false
        pair: on_status_solicited
        owner: BAP
        expect: false
      - key: on_status_solicited
        type: on_status
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
  - id: Schedule_Trip
    tags: ["WORKBENCH","MANDATORY"]
    description: Schedule - Trip
    sequence:
      - key: search_schedule_trip
        type: search
        unsolicited: false
        pair: on_search_schedule_trip
        owner: BAP
        expect: true
        input:
          - name: select_input
            label: Enter
            type: trv10_schedule
      - key: on_search_schedule_trip
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: false
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm_rental
        owner: BAP
        expect: false
      - key: on_confirm_rental
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_update_ride_assigned
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: track
        type: track
        unsolicited: false
        pair: on_track
        owner: BAP
        expect: false
      - key: on_track
        type: on_track
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_unsolicited
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_arrived
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_started
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_update
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: status
        type: status
        unsolicited: false
        pair: on_status_solicited
        owner: BAP
        expect: false
      - key: on_status_solicited
        type: on_status
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
  - id: OnDemand_Rentalwhen_end_stop_gps_coordinate_is_present
    tags: ["WORKBENCH","MANDATORY"]
    description: On-Demand - Rental(when end stop gps coordinate is present)
    sequence:
      - key: search_rental_end
        type: search
        unsolicited: false
        pair: on_search_rental_end
        owner: BAP
        expect: true
        input:
          - name: city_code
            label: Enter city code
            type: text
            payloadField: $.context.location.city.code
          - name: start_gps
            label: Enter start gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='START')].location.gps
          - name: end_gps
            label: Enter end gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='END')].location.gps
      - key: on_search_rental_end
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select_rental
        type: select
        unsolicited: false
        pair: on_select_rental
        owner: BAP
        expect: false
        input:
          - name: select_input
            label: Enter
            type: trv10_select
      - key: on_select_rental
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init_rental
        type: init
        unsolicited: false
        pair: on_init_rental
        owner: BAP
        expect: false
      - key: on_init_rental
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm_rental
        owner: BAP
        expect: false
      - key: on_confirm_rental
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_unsolicited
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: track
        type: track
        unsolicited: false
        pair: on_track
        owner: BAP
        expect: false
      - key: on_track
        type: on_track
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_arrived
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_started
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_update
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: status
        type: status
        unsolicited: false
        pair: on_status_solicited
        owner: BAP
        expect: false
      - key: on_status_solicited
        type: on_status
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
  - id: No_Acceptance_SoftCancel
    tags: ["WORKBENCH","MANDATORY"]
    description: No Acceptance - Soft_Cancel
    sequence:
      - key: search_ride
        type: search
        unsolicited: false
        pair: on_search
        owner: BAP
        expect: true
        input:
          - name: city_code
            label: Enter city code
            type: text
            payloadField: $.context.location.city.code
          - name: start_gps
            label: Enter start gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='START')].location.gps
          - name: end_gps
            label: Enter end gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='END')].location.gps
      - key: on_search
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: false
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_unsolicited
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_arrived
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: cancel
        type: cancel
        unsolicited: false
        pair: on_cancel
        owner: BAP
        expect: false
      - key: on_cancel
        type: on_cancel
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_arrived_2
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
  - id: No_Acceptance_SoftUpdate
    tags: ["WORKBENCH","MANDATORY"]
    description: No Acceptance - Soft_Update
    sequence:
      - key: search
        type: search
        unsolicited: false
        pair: on_search
        owner: BAP
        expect: true
        input:
          - name: city_code
            label: Enter city code
            type: text
            payloadField: $.context.location.city.code
          - name: start_gps
            label: Enter start gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='START')].location.gps
          - name: intermediate_gps
            label: Enter intermediate gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='INTERMEDIATE_STOP')].location.gps
          - name: end_gps
            label: Enter end gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='END')].location.gps
      - key: on_search
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: false
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_unsolicited
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: track
        type: track
        unsolicited: false
        pair: on_track
        owner: BAP
        expect: false
      - key: on_track
        type: on_track
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_arrived
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: update
        type: update
        unsolicited: false
        pair: on_update_soft_update
        owner: BAP
        expect: false
        input:
          - name: updated_end_gps
            label: Enter updated end gps coordinates
            type: text
            payloadField: $.message.order.fulfillments[*].stops[*].location.gps
      - key: on_update_soft_update
        type: on_update
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_started_soft_update
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
  - id: OnDemand_Assign_driver_on_onconfirm_With_IGM(v-2.0.0)
    tags: ["WORKBENCH","MANDATORY"]
    description: On-Demand - Assign driver on on-confirm
    sequence:
      - key: search_ride
        type: search
        unsolicited: false
        pair: on_search
        owner: BAP
        expect: true
        input:
          - name: city_code
            label: Enter city code
            type: text
            payloadField: $.context.location.city.code
          - name: start_gps
            label: Enter start gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='START')].location.gps
          - name: end_gps
            label: Enter end gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='END')].location.gps
      - key: on_search
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: false
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_unsolicited
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: track_ride
        type: track
        unsolicited: false
        pair: on_track_ride
        owner: BAP
        expect: false
      - key: on_track_ride
        type: on_track
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_arrived
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_started
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_update
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: status
        type: status
        unsolicited: false
        pair: on_status_solicited
        owner: BAP
        expect: false
      - key: on_status_solicited
        type: on_status
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: issue_open
        type: issue
        label: open
        unsolicited: false
        description: Create a complaint for the order
        pair: on_issue_processing
        owner: BAP
        expect: false
      - key: on_issue_processing
        type: on_issue
        label: processing
        unsolicited: false
        description: Respondent starts PROCESSING the complaint
        pair: null
        owner: BPP
        expect: false
      - key: on_issue_need_more_info
        type: on_issue
        label: need_more_info
        unsolicited: true
        description: Respondent requests for more information
        pair: null
        owner: BPP
        expect: true
      - key: issue_info_provided
        type: issue
        label: info_provided
        unsolicited: false
        description: Complainant provides required information
        pair: on_issue_provided
        owner: BAP
        expect: false
      - key: on_issue_provided
        type: on_issue
        label: processing
        unsolicited: false
        description: Respondent marks the action as PROCESSING
        pair: null
        owner: BPP
        expect: false
      - key: on_issue_resolution
        type: on_issue
        label: resolution
        unsolicited: true
        description: Respondent proposes resolution for the complaint
        pair: null
        owner: BPP
        expect: false
      - key: issue_resolution_accept
        type: issue
        label: resolution_accept
        unsolicited: false
        description: A resolution is accepted by the complainant
        pair: on_issue_resolved
        owner: BAP
        expect: false
        input:
          # - name: resolution_accept
          #   label: Select a resolution
          #   type: select
          #   values:
          #     - "R1-Refund"
          #     - "R2-Replacement"
          #   default: "R2-Replacement"
          - name: resolution_accept
            label: Enter resolution ID
            type: text
      - key: on_issue_resolved
        type: on_issue
        label: resolved
        unsolicited: false
        description: The complaint is marked as resolved
        pair: null
        owner: BPP
        expect: false
      - key: issue_close
        type: issue
        label: close
        unsolicited: false
        description: Once resolved, the complaint is marked as closed
        pair: null
        owner: BAP
        expect: false
        input:
          - name: rating
            label: Select Rating
            type: select
            values:
              - "THUMBS_UP"
              - "THUMBS_DOWN"
            default: "THUMBS_UP"
      # - key: on_update_igm_return
      #   type: on_update
      #   label: on_update_igm
      #   unsolicited: true
      #   description: final on_update call after issue closed
      #   pair: null
      #   owner: BPP
      #   expect: false  
  - id: OnDemand_Assign_driver_on_onconfirm_With_IGM_Rejection(v-2.0.0)
    tags: ["WORKBENCH","MANDATORY"]
    description: On-Demand - Assign driver on on-confirm
    sequence:
      - key: search_ride
        type: search
        unsolicited: false
        pair: on_search
        owner: BAP
        expect: true
        input:
          - name: city_code
            label: Enter city code
            type: text
            payloadField: $.context.location.city.code
          - name: start_gps
            label: Enter start gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='START')].location.gps
          - name: end_gps
            label: Enter end gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='END')].location.gps
      - key: on_search
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: false
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_unsolicited
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: track_ride
        type: track
        unsolicited: false
        pair: on_track_ride
        owner: BAP
        expect: false
      - key: on_track_ride
        type: on_track
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_arrived
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_started
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_update
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: status
        type: status
        unsolicited: false
        pair: on_status_solicited
        owner: BAP
        expect: false
      - key: on_status_solicited
        type: on_status
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: issue_open
        type: issue
        label: open
        unsolicited: false
        description: Create a complaint for the order
        pair: on_issue_processing
        owner: BAP
        expect: false
      - key: on_issue_processing
        type: on_issue
        label: processing
        unsolicited: false
        description: Respondent starts PROCESSING the complaint
        pair: null
        owner: BPP
        expect: false
      - key: on_issue_resolution
        type: on_issue
        label: resolution
        unsolicited: true
        description: Respondent proposes resolution for the complaint
        pair: null
        owner: BPP
        expect: false
      - key: issue_resolution_reject
        type: issue
        label: resolution_reject
        unsolicited: false
        description: The resolution is rejected by the complainant
        pair: on_issue_processing_1
        owner: BAP
        expect: false
        input:
          - name: resolution_accept
            label: Enter resolution ID
            type: text
      - key: on_issue_processing_1
        type: on_issue
        label: processing
        unsolicited: false
        description: Respondent marks the action as PROCESSING
        pair: null
        owner: BPP
        expect: false
      - key: on_issue_resolution_1
        type: on_issue
        label: resolution
        unsolicited: true
        description: Respondent proposes updated resolution for the complaint
        pair: null
        owner: BPP
        expect: false
      - key: issue_escalate
        type: issue
        label: escalate
        unsolicited: false
        description: Complainant escalates the complaint not being satisfied with the resolution
        pair: on_issue_processing_2
        owner: BAP
        expect: false
      - key: on_issue_processing_2
        type: on_issue
        label: processing
        unsolicited: false
        description: Respondent marks the action as PROCESSING
        pair: null
        owner: BPP
        expect: false
      - key: on_issue_resolution_2
        type: on_issue
        label: resolution
        unsolicited: true
        description: Respondent proposes updated resolution again for the complaint
        pair: null
        owner: BPP
        expect: false
      - key: issue_resolution_accept
        type: issue
        label: resolution_accept
        unsolicited: false
        description: A resolution is accepted by the complainant
        pair: on_issue_resolved
        owner: BAP
        expect: false
        input:
          # - name: resolution_accept
          #   label: Select a resolution
          #   type: select
          #   values:
          #     - "R1-Refund"
          #     - "R2-Replacement"
          #   default: "R2-Replacement"
          - name: resolution_accept
            label: Enter resolution ID
            type: text
      - key: on_issue_resolved
        type: on_issue
        label: resolved
        unsolicited: false
        description: The complaint is marked as resolved
        pair: null
        owner: BPP
        expect: false
      - key: issue_close
        type: issue
        label: close
        unsolicited: false
        description: Once resolved, the complaint is marked as closed
        pair: null
        owner: BAP
        expect: false
        input:
          - name: rating
            label: Select Rating
            type: select
            values:
              - "THUMBS_UP"
              - "THUMBS_DOWN"
            default: "THUMBS_UP"
      # - key: on_update_igm_replacement
      #   type: on_update
      #   label: on_update_igm
      #   unsolicited: true
      #   description: final on_update call after issue closed
      #   pair: null
      #   owner: BPP
      #   expect: false  
  - id: OnDemand_Assign_driver_on_onconfirm_With_IGM_No_Action(v-2.0.0)
    tags: ["WORKBENCH","MANDATORY"]
    description: On-Demand - Assign driver on on-confirm
    sequence:
      - key: search_ride
        type: search
        unsolicited: false
        pair: on_search
        owner: BAP
        expect: true
        input:
          - name: city_code
            label: Enter city code
            type: text
            payloadField: $.context.location.city.code
          - name: start_gps
            label: Enter start gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='START')].location.gps
          - name: end_gps
            label: Enter end gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='END')].location.gps
      - key: on_search
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: false
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_unsolicited
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: track_ride
        type: track
        unsolicited: false
        pair: on_track_ride
        owner: BAP
        expect: false
      - key: on_track_ride
        type: on_track
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_arrived
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_started
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_update
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: status
        type: status
        unsolicited: false
        pair: on_status_solicited
        owner: BAP
        expect: false
      - key: on_status_solicited
        type: on_status
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: issue_open_2
        type: issue
        label: open
        unsolicited: false
        description: Create a complaint for the order
        pair: on_issue_processing
        owner: BAP
        expect: false
      - key: on_issue_processing
        type: on_issue
        label: processing
        unsolicited: false
        description: Respondent starts PROCESSING the complaint
        pair: null
        owner: BPP
        expect: false
      - key: on_issue_resolution_igm_3
        type: on_issue
        label: resolution
        unsolicited: true
        description: Respondent proposes resolution for the complaint
        pair: null
        owner: BPP
        expect: false
      - key: issue_resolution_accept_igm_3
        type: issue
        label: resolution_accept
        unsolicited: false
        description: A resolution is accepted by the complainant
        pair: on_issue_resolved_igm_3
        owner: BAP
        expect: false
        input:
          # - name: resolution_accept
          #   label: Select a resolution
          #   type: select
          #   values:
          #     - "R1-Refund"
          #     - "R2-Replacement"
          #   default: "R2-Replacement"
          - name: resolution_accept
            label: Enter resolution ID
            type: text
      - key: on_issue_resolved_igm_3
        type: on_issue
        label: resolved
        unsolicited: false
        description: The complaint is marked as resolved
        pair: null
        owner: BPP
        expect: false
      - key: issue_close_igm_3
        type: issue
        label: close
        unsolicited: false
        description: Once resolved, the complaint is marked as closed
        pair: null
        owner: BAP
        expect: false
        input:
          - name: rating
            label: Select Rating
            type: select
            values:
              - "THUMBS_UP"
              - "THUMBS_DOWN"
            default: "THUMBS_UP"
      # - key: on_status_igm_3
      #   type: on_status
      #   unsolicited: true
      #   pair: null
      #   owner: BPP
      #   expect: false
      #   description: Status updates - order delivered  
  - id: OnDemand_Assign_driver_on_onconfirm_With_IGM(v-1.0.0)
    tags: ["WORKBENCH","MANDATORY"]
    description: On-Demand - Assign driver on on-confirm
    sequence:
      - key: search_ride
        type: search
        unsolicited: false
        pair: on_search
        owner: BAP
        expect: true
        input:
          - name: city_code
            label: Enter city code
            type: text
            payloadField: $.context.location.city.code
          - name: start_gps
            label: Enter start gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='START')].location.gps
          - name: end_gps
            label: Enter end gps coordinates
            type: text
            payloadField: $.message.intent.fulfillment.stops[?(@.type=='END')].location.gps
      - key: on_search
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: false
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_unsolicited
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: track_ride
        type: track
        unsolicited: false
        pair: on_track_ride
        owner: BAP
        expect: false
      - key: on_track_ride
        type: on_track
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_arrived
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_status_ride_started
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: on_update
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
      - key: status
        type: status
        unsolicited: false
        pair: on_status_solicited
        owner: BAP
        expect: false
      - key: on_status_solicited
        type: on_status
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
      - key: issue_open_100
        type: issue
        label: open
        unsolicited: false
        description: Create a complaint for the order
        pair: on_issue_processing_100
        owner: BAP
        expect: false
      - key: on_issue_processing_100
        type: on_issue
        label: processing
        unsolicited: false
        description: Respondent starts PROCESSING the complaint
        pair: null
        owner: BPP
        expect: false
      - key: on_issue_resolved_100
        type: on_issue_status
        label: resolved
        unsolicited: true
        description: The complaint is marked as resolved with a resolution
        pair: null
        owner: BPP
        expect: false
      - key: issue_close_100
        type: issue
        label: close
        unsolicited: false
        description: Once resolved, the complaint is marked as closed
        pair: null
        owner: BAP
        expect: false
        input:
          - name: rating
            label: Select Rating
            type: select
            values:
              - "THUMBS_UP"
              - "THUMBS_DOWN"
            default: "THUMBS_UP"                          

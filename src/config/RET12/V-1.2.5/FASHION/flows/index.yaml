flows:
  - id: Discovery_Flow_full_catalog
    tags: ["PRAMAAN", "MANDATORY", "REPORTABLE","WORKBENCH"]
    description: Retail 1.2.5 (Discovery Flow)
    sequence:
      - key: search
        type: search
        unsolicited: false
        pair: on_search
        owner: BAP
        expect: true
        description: BAP sends the search request
        input:
          - name: city_code
            label: Enter the city code
            type: text
            payloadField: $.context.city
          - name: feature_discovery
            label: Features supported
            type: checkbox
            options:
              - code: "006"
                name: "Return with pickup"
              - code: "00B"
                name: "Replacement flow"
              - code: "012"
                name: "Cash on delivery (COD) order"
              - code: "017"
                name: "Seller Creds"
              - code: "01D"
                name: "Option for multi-fulfillment order"
      - key: on_search
        type: on_search
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        label: full catalog
        description: BPP returns the full catalog refresh
  - id: Discovery_Flow_incremental_catalog
    tags: ["PRAMAAN", "MANDATORY", "REPORTABLE", "WORKBENCH"]
    description: "Retail 1.2.5 (Discovery Flow Incremental Catalog)"
    sequence:
      - key: search_inc
        type: search
        unsolicited: false
        pair: null
        owner: BAP
        expect: true
        description: Bap begins search for incremental changes
      - key: on_search_inc
        type: on_search
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: BPP returns the incremental changes
      - key: on_search_inc_disable
        type: on_search
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: BPP returns the incremental changes
      - key: search_inc
        type: search
        unsolicited: false
        pair: null
        owner: BAP
        expect: false
        description: Bap stops search for incremental changes
  - id: Delivery_Flow
    tags: ["PRAMAAN", "MANDATORY", "REPORTABLE","WORKBENCH"]
    description: Retail 1.2.5 (Delivery)
    sequence: &base_line_flow
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: true
        description: BAP select the item
        input:
          - name: fashion_select
            type: ret10_grocery_select
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description:
          BPP returns item breakup when item is in stock and offer applied
          (if any)
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
        description: Buyer initiate the product and send the updated fulfillment id
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Respond to init
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
        description: Buyer confirms product
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Seller Accepts confirmation
      - key: on_status_pending
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order accepted
      - key: on_status_packed
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order packed
      - key: on_status_agent_assigned
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - agent assigned
      - key: on_status_picked
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order picked up
      - key: track
        type: track
        unsolicited: false
        pair: on_track
        owner: BAP
        expect: false
        description: BAP request to track the order
      - key: on_track
        type: on_track
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: BPP sends the tracking information
      - key: on_status_out_for_delivery
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order out for delivery
      - key: on_status_order_delivered
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order delivered 
  - id: Out_Of_Stock_Flow
    tags: ["WORKBENCH", "MANDATORY","REPORTABLE"]
    description: Retail 1.2.5 (Out Of Stock)
    sequence:
      - key: select_out_of_stock
        type: select
        unsolicited: false
        input:
          - name: fashion_select
            type: ret10_grocery_select
        pair: on_select_out_of_stock
        owner: BAP
        expect: true
        description: BAP may add unavailable or out-of-stock items to the cart
      - key: on_select_out_of_stock
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: BPP returns item breakup when item is out of stock
      - key: select
        type: select
        unsolicited: false
        input:
          - name: fashion_select
            type: ret10_grocery_select
        pair: on_select
        owner: BAP
        expect: false
        description: BAP select the item
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description:
          BPP returns item breakup when item is in stock and offer applied
          (if any)
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
        description: Buyer initiate the product and send the updated fulfillment id
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Respond to init
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
        description: Buyer confirms product
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Seller Accepts confirmation
      - key: on_status_pending
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order accepted
      - key: on_status_packed
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order packed
      - key: on_status_agent_assigned
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - agent assigned
      - key: on_status_picked
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order picked up
      - key: on_status_out_for_delivery
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order out for delivery
      - key: on_status_order_delivered
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order delivered
  - id: Out_Of_Stock_Flow(Error-code)
    tags: ["WORKBENCH", "MANDATORY","REPORTABLE"]
    description: Retail 1.2.5 (Out Of Stock)
    sequence:
      - key: select_out_of_stock
        type: select
        unsolicited: false
        input:
          - name: fashion_select
            type: ret10_grocery_select
        pair: on_select_out_of_stock
        owner: BAP
        expect: true
        description: BAP may add unavailable or out-of-stock items to the cart
      - key: on_select_out_of_stock
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: BPP returns item breakup when item is out of stock   
  - id: Buyer_Cancellation_Flow
    tags: ["PRAMAAN", "MANDATORY", "REPORTABLE", "WORKBENCH"]
    description: Retail 1.2.5 (Cancellation)
    sequence:
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: true
        description: BAP select the item
        input:
          - name: fashion_select
            type: ret10_grocery_select
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description:
          BPP returns item breakup when item is in stock and offer applied
          (if any)
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
        description: Buyer initiate the product and send the updated fulfillment id
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Respond to init
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
        description: Buyer confirms product
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Seller Accepts confirmation
      - key: cancel
        type: cancel
        unsolicited: false
        pair: on_cancel
        owner: BAP
        expect: false
        description: Buyer side full order cancellation
        payloadField: $.message.order.cancellation_reason_id
        input:
          - name: cancellation_reason_id
            label: Select a reason_id
            type: select
            values:
              - "002"
              - "011"
              - "013"
              - "014"
              - "016"
              - "018"
              - "021"
              - "022"
              - "023"
              - "024"
              - "051"
              - "052"
              - "053"
            default: "002"
      - key: on_cancel
        type: on_cancel
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Seller Accepts cancellation
  - id: Seller_Cancellation_Flow
    tags: ["WORKBENCH", "MANDATORY"]
    description: Retail 1.2.5 (Cancellation)
    sequence:
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: true
        description: BAP select the item
        input:
          - name: fashion_select
            type: ret10_grocery_select
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description:
          BPP returns item breakup when item is in stock and offer applied
          (if any)
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
        description: Buyer initiate the product and send the updated fulfillment id
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Respond to init
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
        description: Buyer confirms product
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Seller Accepts confirmation
      - key: on_update_part_cancel
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Part cancellation request
      - key: update_partial_cancel_settlement
        type: update
        unsolicited: false
        pair: null
        owner: BAP
        expect: false
        description: settlement trail update
      - key: on_status_pending
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order accepted
      - key: on_status_packed
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order packed
      - key: on_status_agent_assigned
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - agent assigned
      - key: on_status_picked
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order picked up
      - key: on_status_out_for_delivery
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order out for delivery
      - key: on_cancel_rto
        type: on_cancel
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Seller side full order cancellation
      - key: on_status_rto_delivereddisposed
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - rto order delivered
  - id: Seller_Cred_Flow
    tags: ["WORKBENCH", "MANDATORY", "REPORTABLE"]
    description: Retail 1.2.5 (Delivery)
    sequence: &base_line_flow
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: true
        description: BAP select the item
        input:
          - name: fashion_select
            type: ret10_grocery_select
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description:
          BPP returns item breakup when item is in stock and offer applied
          (if any)
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
        description: Buyer initiate the product and send the updated fulfillment id
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Respond to init
      - key: confirm_seller_cred
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
        description: Buyer confirms product
      - key: on_confirm_seller_cred
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Seller Accepts confirmation
  - id: Return_Flow
    tags: ["PRAMAAN", "MANDATORY", "REPORTABLE", "WORKBENCH"]
    description: Retail 1.2.5 (Return)
    sequence:
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: true
        description: BAP select the item
        input:
          - name: fashion_select
            type: ret10_grocery_select
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description:
          BPP returns item breakup when item is in stock and offer applied
          (if any)
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
        description: Buyer initiate the product and send the updated fulfillment id
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Respond to init
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
        description: Buyer confirms product
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Seller Accepts confirmation
      - key: on_status_pending
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order accepted
      - key: on_status_packed
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order packed
      - key: on_status_picked
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order picked up
      - key: on_status_out_for_delivery
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order out for delivery
      - key: on_status_order_delivered
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order delivered
      - key: update_reverse_qc
        type: update
        unsolicited: false
        pair: on_update_interim_reverseQc
        owner: BAP
        expect: false
        description: Buyer updates product
      - key: on_update_interim_reverseQc
        type: on_update
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Seller Accepts update request
      - key: on_update_return_approved
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Update request approved
      - key: on_update_return_picked
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Update request picked
      - key: update_reverse_qc_settlement
        type: update
        unsolicited: false
        pair: null
        owner: BAP
        expect: false
        description: settlement trail update
      - key: on_update_return_delivered
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Update request delivered
  - id: Cash_On_Delivery_Flow
    tags: ["PRAMAAN", "OPTIONAL", "REPORTABLE", "WORKBENCH"]
    description: Retail 1.2.5 (Cash On Delivery)
    sequence:
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: true
        description: BAP select the item
        input:
          - name: fashion_select
            type: ret10_grocery_select
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description:
          BPP returns item breakup when item is in stock and offer applied
          (if any)
      - key: init_cod
        type: init
        unsolicited: false
        pair: on_init_cod
        owner: BAP
        expect: false
        description: Buyer initiate the product and send the updated fulfillment id
      - key: on_init_cod
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Respond to init
      - key: confirm_cod
        type: confirm
        unsolicited: false
        pair: on_confirm_cod
        owner: BAP
        expect: false
        description: Buyer confirms product
      - key: on_confirm_cod
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Seller Accepts confirmation
      - key: on_status_pending
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order accepted
      - key: on_status_packed
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order packed
      - key: on_status_picked
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order picked up
      - key: on_status_out_for_delivery
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order out for delivery
      - key: on_status_order_delivered_cod
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order delivered
  - id: Replacement_Flow
    tags: ["WORKBENCH", "MANDATORY", "REPORTABLE"]
    description: Retail 1.2.5 (Replacement)
    sequence:
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: true
        description: BAP select the item
        input:
          - name: fashion_select
            type: ret10_grocery_select
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description:
          BPP returns item breakup when item is in stock and offer applied
          (if any)
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
        description: Buyer initiate the product and send the updated fulfillment id
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Respond to init
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
        description: Buyer confirms product
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Seller Accepts confirmation
      - key: on_status_pending
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order accepted
      - key: on_status_packed
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order packed
      - key: on_status_picked
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order picked up
      - key: on_status_out_for_delivery
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order out for delivery
      - key: on_status_order_delivered
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order delivered
      - key: update_reverse_qc_rep
        type: update
        unsolicited: false
        pair: on_update_interim_reverseQc
        owner: BAP
        expect: false
        description: Buyer updates product
      - key: on_update_interim_reverseQc
        type: on_update
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Seller Accepts update request
      - key: on_update_return_approved
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Update request approved
      - key: on_update_return_picked_rep
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Update request picked
      - key: on_update_return_delivered_rep
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Update request delivered
      - key: on_status_packed_rep
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order packed for replacement
      - key: on_status_picked_rep
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order picked up for replacement
      - key: on_status_out_for_delivery_rep
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order out for delivery for replacement
      - key: on_status_order_delivered_rep
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order delivered for replacement
  - id: Cancel_Return_Request_Flow
    tags: ["WORKBENCH", "MANDATORY", "REPORTABLE"]
    description: Retail 1.2.5 (Cancel Return Request)
    sequence:
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: true
        description: BAP select the item
        input:
          - name: fashion_select
            type: ret10_grocery_select
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description:
          BPP returns item breakup when item is in stock and offer applied
          (if any)
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
        description: Buyer initiate the product and send the updated fulfillment id
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Respond to init
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
        description: Buyer confirms product
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Seller Accepts confirmation
      - key: on_status_pending
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order accepted
      - key: on_status_packed
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order packed
      - key: on_status_picked
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order picked up
      - key: on_status_out_for_delivery
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order out for delivery
      - key: on_status_order_delivered
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order delivered
      - key: update_reverse_qc
        type: update
        unsolicited: false
        pair: on_update_interim_reverseQc
        owner: BAP
        expect: false
        description: Buyer updates product
      - key: on_update_interim_reverseQc
        type: on_update
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Seller Accepts update request
      - key: on_update_return_approved
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Update request approved
      - key: cancel_return_request
        type: cancel
        unsolicited: false
        pair: on_cancel_return_request
        owner: BAP
        expect: false
        description: Cancel return request
        input:
          - name: Cancellation Return Reason Id
            label: Select a reason_id
            type: select
            values:
              - "001"
              - "002"
              - "003"
            default: "001"
      - key: on_cancel_return_request
        type: on_cancel
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Respond to cancel return request
  - id: Force_Cancellation_Flow
    tags: ["WORKBENCH", "MANDATORY", "REPORTABLE"]
    description: Retail 1.2.5 (Cancellation)
    sequence:
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: true
        description: BAP select the item
        input:
          - name: fashion_select
            type: ret10_grocery_select
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description:
          BPP returns item breakup when item is in stock and offer applied
          (if any)
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
        description: Buyer initiate the product and send the updated fulfillment id
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Respond to init
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
        description: Buyer confirms product
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Seller Accepts confirmation
      - key: on_status_pending
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order accepted
      - key: on_status_packed
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order packed
      - key: on_status_agent_assigned
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - agent assigned
      - key: on_status_picked
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order picked up
      - key: on_status_out_for_delivery_force
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order out for delivery
      - key: cancel_no
        type: cancel
        unsolicited: false
        pair: null
        owner: BAP
        expect: false
        description: Buyer side full order cancellation
        payloadField: $.message.order.cancellation_reason_id
        input:
          - name: cancellation_reason_id
            label: Select a reason_id
            type: select
            values:
              - "052"
            default: "052"
      - key: cancel_yes
        type: cancel
        unsolicited: false
        pair: on_cancel_yes
        owner: BAP
        expect: false
        description: Buyer side full order cancellation
        payloadField: $.message.order.cancellation_reason_id
        input:
          - name: cancellation_reason_id
            label: Select a reason_id
            type: select
            values:
              - "052"
            default: "052"
      - key: on_cancel_yes
        type: on_cancel
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Seller Accepts cancellation
      - key: update_settlement_cancel
        type: update
        unsolicited: true
        pair: null
        owner: BAP
        expect: false
        description: settlement trail update
  - id: Delivery_Flow_With_IGM(v-2.0.0)
    tags: ["PRAMAAN", "MANDATORY", "REPORTABLE", "WORKBENCH"]
    description: Retail 1.2.5 (Delivery with IGM 1)
    sequence: &base_line_flow
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: true
        description: BAP select the item
        input:
          - name: fashion_select
            type: ret10_grocery_select
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description:
          BPP returns item breakup when item is in stock and offer applied
          (if any)
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
        description: Buyer initiate the product and send the updated fulfillment id
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Respond to init
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
        description: Buyer confirms product
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Seller Accepts confirmation
      - key: on_status_pending
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order accepted
      - key: on_status_packed
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order packed
      - key: on_status_agent_assigned
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - agent assigned
      - key: on_status_picked
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order picked up
      - key: on_status_out_for_delivery
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order out for delivery
      - key: on_status_order_delivered
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order delivered
      - key: issue_open
        type: issue
        label: open
        unsolicited: false
        description: Create a complaint for the order
        pair: on_issue_processing
        owner: BAP
        expect: false
      - key: on_issue_processing
        type: on_issue
        label: processing
        unsolicited: false
        description: Respondent starts PROCESSING the complaint
        pair: null
        owner: BPP
        expect: false
      - key: on_issue_need_more_info
        type: on_issue
        label: need_more_info
        unsolicited: true
        description: Respondent requests for more information
        pair: null
        owner: BPP
        expect: true
      - key: issue_info_provided
        type: issue
        label: info_provided
        unsolicited: false
        description: Complainant provides required information
        pair: on_issue_provided
        owner: BAP
        expect: false
      - key: on_issue_provided
        type: on_issue
        label: processing
        unsolicited: false
        description: Respondent marks the action as PROCESSING
        pair: null
        owner: BPP
        expect: false
      - key: on_issue_resolution
        type: on_issue
        label: resolution
        unsolicited: true
        description: Respondent proposes resolution for the complaint
        pair: null
        owner: BPP
        expect: false
      - key: issue_resolution_accept
        type: issue
        label: resolution_accept
        unsolicited: false
        description: A resolution is accepted by the complainant
        pair: on_issue_resolved
        owner: BAP
        expect: false
        input:
          # - name: resolution_accept
          #   label: Select a resolution
          #   type: select
          #   values:
          #     - "R1-Refund"
          #     - "R2-Replacement"
          #   default: "R2-Replacement"
          - name: resolution_accept
            label: Enter resolution ID
            type: text
      - key: on_issue_resolved
        type: on_issue
        label: resolved
        unsolicited: false
        description: The complaint is marked as resolved
        pair: null
        owner: BPP
        expect: false
      - key: issue_close
        type: issue
        label: close
        unsolicited: false
        description: Once resolved, the complaint is marked as closed
        pair: null
        owner: BAP
        expect: false
        input:
          - name: rating
            label: Select Rating
            type: select
            values:
              - "THUMBS_UP"
              - "THUMBS_DOWN"
            default: "THUMBS_UP"
      - key: on_update_igm_return
        type: on_update
        label: on_update_igm
        unsolicited: true
        description: final on_update call after issue closed
        pair: null
        owner: BPP
        expect: false
  - id: Delivery_Flow_With_IGM_Rejection(v-2.0.0)
    tags: ["PRAMAAN", "MANDATORY", "REPORTABLE", "WORKBENCH"]
    description: Retail 1.2.5 (Delivery with IGM 2)
    sequence: &base_line_flow
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: true
        description: BAP select the item
        input:
          - name: fashion_select
            type: ret10_grocery_select
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description:
          BPP returns item breakup when item is in stock and offer applied
          (if any)
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
        description: Buyer initiate the product and send the updated fulfillment id
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Respond to init
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
        description: Buyer confirms product
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Seller Accepts confirmation
      - key: on_status_pending
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order accepted
      - key: on_status_packed
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order packed
      - key: on_status_agent_assigned
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - agent assigned
      - key: on_status_picked
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order picked up
      - key: on_status_out_for_delivery
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order out for delivery
      - key: on_status_order_delivered
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order delivered
      - key: issue_open
        type: issue
        label: open
        unsolicited: false
        description: Create a complaint for the order
        pair: on_issue_processing
        owner: BAP
        expect: false
      - key: on_issue_processing
        type: on_issue
        label: processing
        unsolicited: false
        description: Respondent starts PROCESSING the complaint
        pair: null
        owner: BPP
        expect: false
      - key: on_issue_resolution
        type: on_issue
        label: resolution
        unsolicited: true
        description: Respondent proposes resolution for the complaint
        pair: null
        owner: BPP
        expect: false
      - key: issue_resolution_reject
        type: issue
        label: resolution_reject
        unsolicited: false
        description: The resolution is rejected by the complainant
        pair: on_issue_processing_1
        owner: BAP
        expect: false
        input:
          - name: resolution_accept
            label: Enter resolution ID
            type: text
      - key: on_issue_processing_1
        type: on_issue
        label: processing
        unsolicited: false
        description: Respondent marks the action as PROCESSING
        pair: null
        owner: BPP
        expect: false
      - key: on_issue_resolution_1
        type: on_issue
        label: resolution
        unsolicited: true
        description: Respondent proposes updated resolution for the complaint
        pair: null
        owner: BPP
        expect: false
      - key: issue_escalate
        type: issue
        label: escalate
        unsolicited: false
        description: Complainant escalates the complaint not being satisfied with the resolution
        pair: on_issue_processing_2
        owner: BAP
        expect: false
      - key: on_issue_processing_2
        type: on_issue
        label: processing
        unsolicited: false
        description: Respondent marks the action as PROCESSING
        pair: null
        owner: BPP
        expect: false
      - key: on_issue_resolution_2
        type: on_issue
        label: resolution
        unsolicited: true
        description: Respondent proposes updated resolution again for the complaint
        pair: null
        owner: BPP
        expect: false
      - key: issue_resolution_accept
        type: issue
        label: resolution_accept
        unsolicited: false
        description: A resolution is accepted by the complainant
        pair: on_issue_resolved
        owner: BAP
        expect: false
        input:
          # - name: resolution_accept
          #   label: Select a resolution
          #   type: select
          #   values:
          #     - "R1-Refund"
          #     - "R2-Replacement"
          #   default: "R2-Replacement"
          - name: resolution_accept
            label: Enter resolution ID
            type: text
      - key: on_issue_resolved
        type: on_issue
        label: resolved
        unsolicited: false
        description: The complaint is marked as resolved
        pair: null
        owner: BPP
        expect: false
      - key: issue_close
        type: issue
        label: close
        unsolicited: false
        description: Once resolved, the complaint is marked as closed
        pair: null
        owner: BAP
        expect: false
        input:
          - name: rating
            label: Select Rating
            type: select
            values:
              - "THUMBS_UP"
              - "THUMBS_DOWN"
            default: "THUMBS_UP"
      - key: on_update_igm_replacement
        type: on_update
        label: on_update_igm
        unsolicited: true
        description: final on_update call after issue closed
        pair: null
        owner: BPP
        expect: false
  - id: Delivery_Flow_With_IGM_No_Action(v-2.0.0)
    tags: ["WORKBENCH", "MANDATORY"]
    description: Retail 1.2.5 (Delivery with IGM 3)
    sequence: &base_line_flow
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: true
        description: BAP select the item
        input:
          - name: fashion_select
            type: ret10_grocery_select
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description:
          BPP returns item breakup when item is in stock and offer applied
          (if any)
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
        description: Buyer initiate the product and send the updated fulfillment id
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Respond to init
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
        description: Buyer confirms product
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Seller Accepts confirmation
      - key: on_status_pending
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order accepted
      - key: on_status_packed
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order packed
      - key: on_status_agent_assigned
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - agent assigned
      - key: on_status_picked
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order picked up
      - key: on_status_out_for_delivery
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order out for delivery
      - key: on_status_order_delivered
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order delivered
      - key: issue_open_2
        type: issue
        label: open
        unsolicited: false
        description: Create a complaint for the order
        pair: on_issue_processing
        owner: BAP
        expect: false
      - key: on_issue_processing
        type: on_issue
        label: processing
        unsolicited: false
        description: Respondent starts PROCESSING the complaint
        pair: null
        owner: BPP
        expect: false
      - key: on_issue_resolution_igm_3
        type: on_issue
        label: resolution
        unsolicited: true
        description: Respondent proposes resolution for the complaint
        pair: null
        owner: BPP
        expect: false
      - key: issue_resolution_accept_igm_3
        type: issue
        label: resolution_accept
        unsolicited: false
        description: A resolution is accepted by the complainant
        pair: on_issue_resolved_igm_3
        owner: BAP
        expect: false
        input:
          # - name: resolution_accept
          #   label: Select a resolution
          #   type: select
          #   values:
          #     - "R1-Refund"
          #     - "R2-Replacement"
          #   default: "R2-Replacement"
          - name: resolution_accept
            label: Enter resolution ID
            type: text
      - key: on_issue_resolved_igm_3
        type: on_issue
        label: resolved
        unsolicited: false
        description: The complaint is marked as resolved
        pair: null
        owner: BPP
        expect: false
      - key: issue_close_igm_3
        type: issue
        label: close
        unsolicited: false
        description: Once resolved, the complaint is marked as closed
        pair: null
        owner: BAP
        expect: false
        input:
          - name: rating
            label: Select Rating
            type: select
            values:
              - "THUMBS_UP"
              - "THUMBS_DOWN"
            default: "THUMBS_UP"
      - key: on_status_igm_3
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order delivered
  - id: Delivery_Flow_With_IGM(v-1.0.0)
    tags: ["PRAMAAN", "MANDATORY", "REPORTABLE", "WORKBENCH"]
    description: Retail 1.2.5 (Delivery with IGM 1)
    sequence: &base_line_flow
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: true
        description: BAP select the item
        input:
          - name: fashion_select
            type: ret10_grocery_select
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description:
          BPP returns item breakup when item is in stock and offer applied
          (if any)
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
        description: Buyer initiate the product and send the updated fulfillment id
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Respond to init
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
        description: Buyer confirms product
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Seller Accepts confirmation
      - key: on_status_pending
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order accepted
      - key: on_status_packed
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order packed
      - key: on_status_agent_assigned
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - agent assigned
      - key: on_status_picked
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order picked up
      - key: on_status_out_for_delivery
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order out for delivery
      - key: on_status_order_delivered
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order delivered
      - key: issue_open_100
        type: issue
        label: open
        unsolicited: false
        description: Create a complaint for the order
        pair: on_issue_processing_100
        owner: BAP
        expect: false
      - key: on_issue_processing_100
        type: on_issue
        label: processing
        unsolicited: false
        description: Respondent starts PROCESSING the complaint
        pair: null
        owner: BPP
        expect: false
      - key: on_issue_resolved_100
        type: on_issue_status
        label: resolved
        unsolicited: true
        description: The complaint is marked as resolved with a resolution
        pair: null
        owner: BPP
        expect: false
      - key: issue_close_100
        type: issue
        label: close
        unsolicited: false
        description: Once resolved, the complaint is marked as closed
        pair: null
        owner: BAP
        expect: false
        input:
          - name: rating
            label: Select Rating
            type: select
            values:
              - "THUMBS_UP"
              - "THUMBS_DOWN"
            default: "THUMBS_UP"      
  - id: Buyer_Instructions_And_Delivery_Update_Flow
    tags: ["PRAMAAN", "MANDATORY", "REPORTABLE","WORKBENCH"]
    description: Retail 1.2.5 (Buyer Instructions)
    sequence: &base_line_flow
      - key: select
        type: select
        unsolicited: false
        pair: on_select
        owner: BAP
        expect: true
        description: BAP select the item
        input:
          - name: fashion_select
            type: ret10_grocery_select
      - key: on_select
        type: on_select
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description:
          BPP returns item breakup when item is in stock and offer applied
          (if any)
      - key: init
        type: init
        unsolicited: false
        pair: on_init
        owner: BAP
        expect: false
        description: Buyer initiate the product and send the updated fulfillment id
      - key: on_init
        type: on_init
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Respond to init
      - key: confirm
        type: confirm
        unsolicited: false
        pair: on_confirm
        owner: BAP
        expect: false
        description: Buyer confirms product
      - key: on_confirm
        type: on_confirm
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Seller Accepts confirmation
      - key: on_status_pending
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order accepted
      - key: update_buyer_instructions
        type: update
        unsolicited: false
        pair: on_update_buyer_instructions
        owner: BAP
        expect: false
        description: Status updates - order accepted
      - key: on_update_buyer_instructions
        type: on_update
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Seller Accepts update request
      - key: update_delivery_address
        type: update
        unsolicited: false
        pair: on_update_delivery_address
        owner: BAP
        expect: false
        description: Buyer updates delivery address
      - key: on_update_delivery_address
        type: on_update
        unsolicited: false
        pair: null
        owner: BPP
        expect: false
        description: Seller Accepts update request
      - key: on_status_packed
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order packed
      - key: on_status_agent_assigned
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - agent assigned
      - key: on_status_picked
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order picked up
      - key: on_update_delivery_auth
        type: on_update
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Update delivery authorization
      - key: on_status_out_for_delivery
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order out for delivery
      - key: on_status_order_delivered
        type: on_status
        unsolicited: true
        pair: null
        owner: BPP
        expect: false
        description: Status updates - order delivered 
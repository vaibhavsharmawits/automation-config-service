meta:
  domain: ONDC:RETeB2B
  version: 1.2.5
  flowId: Discovery_flow_broadcast_search
transaction_data:
  transaction_id: 9e8654ed-0dd3-4315-81f2-814780f13e79
  latest_timestamp: 1970-01-01T00:00:00.000Z
  bap_id: sample-bap-id
  bap_uri: https://bap.example.com
  bpp_id: sample-bpp-id
  bpp_uri: https://bpp.example.com
steps:
  - api: search
    action_id: search-0
    owner: BAP
    responseFor: null
    unsolicited: false
    description: please add relevant description
    mock:
      generate: LyoqCiAqIEdlbmVyYXRlcyB0aGUgbW9jayBwYXlsb2FkIGZvciBhbiBBUEkgY2FsbCBpbiB0aGUgdHJhbnNhY3Rpb24gZmxvdy4KICogVGhpcyBmdW5jdGlvbiBhbGxvd3MgY3VzdG9taXphdGlvbiBvZiB0aGUgZGVmYXVsdCBwYXlsb2FkIHVzaW5nIHNlc3Npb24gZGF0YQogKiBmcm9tIHByZXZpb3VzIHN0ZXBzIGFuZCB1c2VyIGlucHV0cy4KICogCiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0UGF5bG9hZCAtIFRoZSBiYXNlIHBheWxvYWQgb2JqZWN0IHdpdGggY29udGV4dCBhbHJlYWR5IHBvcHVsYXRlZC4KICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25EYXRhIC0gRGF0YSBjb2xsZWN0ZWQgZnJvbSBwcmV2aW91cyB0cmFuc2FjdGlvbiBzdGVwcy4KICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25EYXRhLnVzZXJfaW5wdXRzIC0gVXNlci1wcm92aWRlZCBpbnB1dCB2YWx1ZXMgZm9yIHRoaXMgc3RlcC4KICogQHBhcmFtIHsqfSBzZXNzaW9uRGF0YS5ba2V5XSAtIEFueSBzYXZlZCBkYXRhIGZyb20gcHJldmlvdXMgc3RlcHMgKGRlZmluZWQgaW4gc2F2ZURhdGEgY29uZmlnKS4KICogCiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBnZW5lcmF0ZWQgcGF5bG9hZCBvYmplY3QgdG8gYmUgc2VudCBpbiB0aGUgQVBJIHJlcXVlc3QuCiAqLwoKYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGUoZGVmYXVsdFBheWxvYWQsIHNlc3Npb25EYXRhKSB7CiAgdHJ5IHsKICAgIAoKICAgIGNvbnN0IGlucHV0cyA9IHNlc3Npb25EYXRhLnVzZXJfaW5wdXRzIHx8IHt9OwogCgogICAgCiAgICBpZiAoaW5wdXRzLmNpdHlfY29kZSkgewogICAgICBkZWZhdWx0UGF5bG9hZC5jb250ZXh0LmNpdHkgPSBpbnB1dHMuY2l0eV9jb2RlOwogICAgICBjb25zb2xlLmxvZygiQ2l0eSBzZXQgdG86IiwgaW5wdXRzLmNpdHlfY29kZSk7CiAgICB9CgogICAgCiAgICBjb25zdCB0YWdzID0gZGVmYXVsdFBheWxvYWQubWVzc2FnZT8uaW50ZW50Py50YWdzIHx8IFtdOwogICAgY29uc3QgYmFwVGVybXNUYWcgPSB0YWdzLmZpbmQodCA9PiB0LmNvZGUgPT09ICJiYXBfdGVybXMiKTsKCiAgICBpZiAoYmFwVGVybXNUYWcpIHsKICAgICAgY29uc3QgZWZmZWN0aXZlRGF0ZSA9IGJhcFRlcm1zVGFnLmxpc3QuZmluZChsID0+IGwuY29kZSA9PT0gImVmZmVjdGl2ZV9kYXRlIik7CiAgICAgIGlmIChlZmZlY3RpdmVEYXRlKSB7CiAgICAgICAgZWZmZWN0aXZlRGF0ZS52YWx1ZSA9IG5ldyBEYXRlKAogICAgICAgICAgRGF0ZS5ub3coKSArIDEwICogMjQgKiA2MCAqIDYwICogMTAwMAogICAgICAgICkudG9JU09TdHJpbmcoKTsKICAgICAgICAKICAgICAgfQogICAgfQoKICAgIAogICAgY29uc3QgYmFwRmVhdHVyZXMgPSBpbnB1dHMuYmFwX2ZlYXR1cmVzOwogICAgaWYgKGJhcEZlYXR1cmVzKSB7CiAgICAgIAoKICAgICAgY29uc3QgZW5hYmxlZENvZGVzID0gT2JqZWN0LmtleXMoYmFwRmVhdHVyZXMpCiAgICAgICAgLmZpbHRlcihjb2RlID0+IGJhcEZlYXR1cmVzW2NvZGVdID09PSB0cnVlKQogICAgICAgIC5tYXAoY29kZSA9PiAoeyBjb2RlLCB2YWx1ZTogInllcyIgfSkpOwoKICAgICAgaWYgKGVuYWJsZWRDb2Rlcy5sZW5ndGgpIHsKICAgICAgICBkZWZhdWx0UGF5bG9hZC5tZXNzYWdlLmludGVudC50YWdzID0KICAgICAgICAgIGRlZmF1bHRQYXlsb2FkLm1lc3NhZ2UuaW50ZW50LnRhZ3MuZmlsdGVyKAogICAgICAgICAgICB0ID0+IHQuY29kZSAhPT0gImJhcF9mZWF0dXJlcyIKICAgICAgICAgICk7CgogICAgICAgIGRlZmF1bHRQYXlsb2FkLm1lc3NhZ2UuaW50ZW50LnRhZ3MucHVzaCh7CiAgICAgICAgICBjb2RlOiAiYmFwX2ZlYXR1cmVzIiwKICAgICAgICAgIGxpc3Q6IGVuYWJsZWRDb2RlcwogICAgICAgIH0pOwoKICAgICAgICBzZXNzaW9uRGF0YS5zYXZlZF9kYXRhID0gc2Vzc2lvbkRhdGEuc2F2ZWRfZGF0YSB8fCB7fTsKICAgICAgICBzZXNzaW9uRGF0YS5zYXZlZF9kYXRhLmJhcF9mZWF0dXJlcyA9IGVuYWJsZWRDb2RlczsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBkZWZhdWx0UGF5bG9hZDsKCiAgfSBjYXRjaCAoZSkgewogICAgcmV0dXJuIHsKICAgICAgY29udGV4dDogZGVmYXVsdFBheWxvYWQ/LmNvbnRleHQgfHwge30sCiAgICAgIGVycm9yOiBlPy5tZXNzYWdlIHx8ICJ1bmtub3duIGVycm9yICIKICAgIH07CiAgfQp9CgoKCgo=
      validate: LyoqCiAqIFZhbGlkYXRlcyB0aGUgaW5jb21pbmcgcmVxdWVzdCBwYXlsb2FkIGZvciBhbiBBUEkgY2FsbCBpbiB0aGUgdHJhbnNhY3Rpb24gZmxvdy4KICogCiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRQYXlsb2FkIC0gVGhlIGluY29taW5nIHJlcXVlc3QgcGF5bG9hZCB0byB2YWxpZGF0ZS4KICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25EYXRhIC0gRGF0YSBjb2xsZWN0ZWQgZnJvbSBwcmV2aW91cyB0cmFuc2FjdGlvbiBzdGVwcy4KICogCiAqIEByZXR1cm5zIHtPYmplY3R9IHsgdmFsaWQ6IGJvb2xlYW4sIGNvZGU6IG51bWJlciwgZGVzY3JpcHRpb246IHN0cmluZyB9CiAqLwpmdW5jdGlvbiB2YWxpZGF0ZSh0YXJnZXRQYXlsb2FkLCBzZXNzaW9uRGF0YSkgewogIHJldHVybiB7IHZhbGlkOiB0cnVlLCBjb2RlOiAyMDAsIGRlc2NyaXB0aW9uOiAiVmFsaWQgcmVxdWVzdCIgfTsKfQ==
      requirements: LyoqCiAqIENoZWNrcyBpZiB0aGUgcmVxdWlyZW1lbnRzIGZvciBwcm9jZWVkaW5nIHdpdGggdGhlIEFQSSBjYWxsIGFyZSBtZXQuCiAqIAogKiBAcGFyYW0ge09iamVjdH0gc2Vzc2lvbkRhdGEgLSBEYXRhIGNvbGxlY3RlZCBmcm9tIHByZXZpb3VzIHRyYW5zYWN0aW9uIHN0ZXBzLgogKiAKICogQHJldHVybnMge09iamVjdH0geyB2YWxpZDogYm9vbGVhbiwgY29kZTogbnVtYmVyLCBkZXNjcmlwdGlvbjogc3RyaW5nIH0KICovCmZ1bmN0aW9uIG1lZXRzUmVxdWlyZW1lbnRzKHNlc3Npb25EYXRhKSB7CiAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGNvZGU6IDIwMCwgZGVzY3JpcHRpb246ICJSZXF1aXJlbWVudHMgbWV0IiB9Owp9
      defaultPayload:
        context:
          domain: ONDC:RETeB2B
          action: search
          country: IND
          city: std:080
          core_version: 1.2.5
          transaction_id: T1
          message_id: M1
          bap_id: sample-bap-id
          bap_uri: https://bap.example.com
          timestamp: 2025-01-08T08:00:00.000Z
          ttl: PT30S
        message:
          intent:
            category:
              id: Energy and Soft Drinks
            fulfillment:
              type: Delivery
            payment:
              "@ondc/org/buyer_app_finder_fee_type": percent
              "@ondc/org/buyer_app_finder_fee_amount": "3.54"
            tags:
              - code: bap_terms
                list:
                  - code: static_terms
                    value: ""
                  - code: static_terms_new
                    value: https://github.com/ONDC-Official/NP-Static-Terms/buyerNP_BNP/1.0/tc.pdf
                  - code: effective_date
                    value: 2025-02-01T00:00:00.000Z
      saveData:
        transactionId: $.context.transaction_id
        latestMessage_id: $.context.message_id
        latestTimestamp: $.context.timestamp
        bapId: $.context.bap_id
        bapUri: $.context.bap_uri
        bpp_id: $.context.bpp_id
        bpp_uri: $.context.bpp_uri
        bap_features: $.message.intent.tags[?(@.code=='bap_features')].list
      inputs:
        id: ExampleInputId
        jsonSchema:
          $schema: http://json-schema.org/draft-07/schema#
          type: object
          properties:
            city_code:
              type: string
              description: Enter the city code
              minLength: 1
            bap_features:
              type: object
              properties:
                01A:
                  type: boolean
                  title: 01A
                "0091":
                  type: boolean
                  title: "0091"
                "0092":
                  type: boolean
                  title: "0092"
                "0093":
                  type: boolean
                  title: "0093"
                "0094":
                  type: boolean
                  title: "0094"
              additionalProperties: false
          required:
            - city_code
          additionalProperties: false
  - api: on_search
    action_id: on_search
    owner: BPP
    responseFor: search-0
    unsolicited: false
    description: please add relevant description
    mock:
      generate: LyoqCiAqIEdlbmVyYXRlcyB0aGUgbW9jayBwYXlsb2FkIGZvciBhbiBBUEkgY2FsbCBpbiB0aGUgdHJhbnNhY3Rpb24gZmxvdy4KICogVGhpcyBmdW5jdGlvbiBhbGxvd3MgY3VzdG9taXphdGlvbiBvZiB0aGUgZGVmYXVsdCBwYXlsb2FkIHVzaW5nIHNlc3Npb24gZGF0YQogKiBmcm9tIHByZXZpb3VzIHN0ZXBzIGFuZCB1c2VyIGlucHV0cy4KICogCiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0UGF5bG9hZCAtIFRoZSBiYXNlIHBheWxvYWQgb2JqZWN0IHdpdGggY29udGV4dCBhbHJlYWR5IHBvcHVsYXRlZC4KICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25EYXRhIC0gRGF0YSBjb2xsZWN0ZWQgZnJvbSBwcmV2aW91cyB0cmFuc2FjdGlvbiBzdGVwcy4KICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25EYXRhLnVzZXJfaW5wdXRzIC0gVXNlci1wcm92aWRlZCBpbnB1dCB2YWx1ZXMgZm9yIHRoaXMgc3RlcC4KICogQHBhcmFtIHsqfSBzZXNzaW9uRGF0YS5ba2V5XSAtIEFueSBzYXZlZCBkYXRhIGZyb20gcHJldmlvdXMgc3RlcHMgKGRlZmluZWQgaW4gc2F2ZURhdGEgY29uZmlnKS4KICogCiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBnZW5lcmF0ZWQgcGF5bG9hZCBvYmplY3QgdG8gYmUgc2VudCBpbiB0aGUgQVBJIHJlcXVlc3QuCiAqLwphc3luYyBmdW5jdGlvbiBnZW5lcmF0ZShkZWZhdWx0UGF5bG9hZCwgc2Vzc2lvbkRhdGEpIHsKICByZXR1cm4gZGVmYXVsdFBheWxvYWQ7Cn0KIAoKCgoKCgoKCgoKCgoKCgoKCg==
      validate: LyoqCiAqIFZhbGlkYXRlcyB0aGUgaW5jb21pbmcgcmVxdWVzdCBwYXlsb2FkIGZvciBhbiBBUEkgY2FsbCBpbiB0aGUgdHJhbnNhY3Rpb24gZmxvdy4KICogCiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRQYXlsb2FkIC0gVGhlIGluY29taW5nIHJlcXVlc3QgcGF5bG9hZCB0byB2YWxpZGF0ZS4KICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25EYXRhIC0gRGF0YSBjb2xsZWN0ZWQgZnJvbSBwcmV2aW91cyB0cmFuc2FjdGlvbiBzdGVwcy4KICogCiAqIEByZXR1cm5zIHtPYmplY3R9IHsgdmFsaWQ6IGJvb2xlYW4sIGNvZGU6IG51bWJlciwgZGVzY3JpcHRpb246IHN0cmluZyB9CiAqLwpmdW5jdGlvbiB2YWxpZGF0ZSh0YXJnZXRQYXlsb2FkLCBzZXNzaW9uRGF0YSkgewogIHJldHVybiB7IHZhbGlkOiB0cnVlLCBjb2RlOiAyMDAsIGRlc2NyaXB0aW9uOiAiVmFsaWQgcmVxdWVzdCIgfTsKfQ==
      requirements: LyoqCiAqIENoZWNrcyBpZiB0aGUgcmVxdWlyZW1lbnRzIGZvciBwcm9jZWVkaW5nIHdpdGggdGhlIEFQSSBjYWxsIGFyZSBtZXQuCiAqIAogKiBAcGFyYW0ge09iamVjdH0gc2Vzc2lvbkRhdGEgLSBEYXRhIGNvbGxlY3RlZCBmcm9tIHByZXZpb3VzIHRyYW5zYWN0aW9uIHN0ZXBzLgogKiAKICogQHJldHVybnMge09iamVjdH0geyB2YWxpZDogYm9vbGVhbiwgY29kZTogbnVtYmVyLCBkZXNjcmlwdGlvbjogc3RyaW5nIH0KICovCmZ1bmN0aW9uIG1lZXRzUmVxdWlyZW1lbnRzKHNlc3Npb25EYXRhKSB7CiAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGNvZGU6IDIwMCwgZGVzY3JpcHRpb246ICJSZXF1aXJlbWVudHMgbWV0IiB9Owp9
      defaultPayload:
        context:
          domain: ONDC:RETeB2B
          country: IND
          city: std:080
          action: on_search
          core_version: 1.2.5
          bap_id: sample-bap-id
          bap_uri: https://bap.example.com
          transaction_id: T1
          message_id: M1
          timestamp: 2025-01-08T08:00:30.000Z
        message:
          catalog:
            bpp/descriptor:
              name: Distributor Marketplace
              symbol: https://seller-np.com/images/logo.png
              short_desc: B2B Wholesale Distribution Platform
              long_desc: B2B Wholesale Distribution Platform for Retailers
              images:
                - https://seller-np.com/images/logo.png
              tags:
                - code: bpp_terms
                  list:
                    - code: np_type
                      value: MSN
                    - code: accept_bap_terms
                      value: Y
            bpp/providers:
              - id: P1
                time:
                  label: enable
                  timestamp: 2025-01-08T07:00:30.000Z
                descriptor:
                  name: ABC Manufacturer
                  code: distributor
                  symbol: https://seller-np.com/images/abc-dist.png
                  short_desc: FMCG Wholesale Distributor
                  long_desc: Leading FMCG Wholesale Distributor in Bangalore
                  images:
                    - https://seller-np.com/images/abc-dist.png
                ttl: P1D
                fulfillments:
                  - id: F1
                    type: Delivery
                    contact:
                      phone: "9886098860"
                      email: orders@abcdist.com
                locations:
                  - id: L1
                    time:
                      label: enable
                      timestamp: 2025-01-08T07:30:30.000Z
                      schedule:
                        holidays:
                          - 2025-01-26T00:00:00.000Z
                          - 2025-08-15T00:00:00.000Z
                    gps: 12.9675,77.7496
                    address:
                      locality: Jayanagar
                      street: Jayanagar 4th Block
                      city: Bengaluru
                      area_code: "560076"
                      state: KA
                  - id: L2
                    time:
                      label: enable
                      timestamp: 2025-01-08T07:30:30.000Z
                      schedule:
                        holidays:
                          - 2025-01-26T00:00:00.000Z
                          - 2025-08-15T00:00:00.000Z
                    gps: 12.9352,77.6245
                    address:
                      locality: BTM Layout
                      street: BTM Layout 2nd Stage
                      city: Bengaluru
                      area_code: "560076"
                      state: KA
                categories:
                  - id: V1
                    descriptor:
                      name: Plain Atta Variant Group
                    tags:
                      - code: type
                        list:
                          - code: type
                            value: variant_group
                      - code: attr
                        list:
                          - code: name
                            value: item.tags.unitized.count
                          - code: seq
                            value: "1"
                      - code: attr
                        list:
                          - code: name
                            value: item.quantity.unitized.measure
                          - code: seq
                            value: "2"
                  - id: V2
                    descriptor:
                      name: Soft Drinks Variant Group
                    tags:
                      - code: type
                        list:
                          - code: type
                            value: variant_group
                      - code: attr
                        list:
                          - code: name
                            value: item.quantity.unitized.measure
                          - code: seq
                            value: "1"
                      - code: attr
                        list:
                          - code: name
                            value: item.quantity.unitized.count
                          - code: seq
                            value: "2"
                offers:
                  - id: discp10
                    descriptor:
                      code: discount
                      images:
                        - https://seller-np.com/images/offer1-banner.webp
                    location_ids:
                      - L1
                    category_ids:
                      - Atta, Flours and Sooji
                    item_ids:
                      - I1
                      - I2
                      - I3
                      - I4
                    time:
                      label: valid
                      range:
                        start: 2025-01-01T00:00:00.000Z
                        end: 2025-01-31T23:59:59.000Z
                    tags:
                      - code: qualifier
                        list:
                          - code: min_value
                            value: "500.00"
                      - code: benefit
                        list:
                          - code: value_type
                            value: percent
                          - code: value
                            value: "-10.00"
                          - code: value_cap
                            value: "-2000.00"
                      - code: meta
                        list:
                          - code: additive
                            value: yes
                          - code: auto
                            value: no
                  - id: flat150
                    descriptor:
                      code: discount
                      images:
                        - https://seller-np.com/images/offer2-banner.webp
                    location_ids:
                      - L1
                    category_ids:
                      - Soft Drinks and Juices
                    item_ids:
                      - I5
                      - I6
                      - I7
                      - I8
                    time:
                      label: valid
                      range:
                        start: 2025-01-01T00:00:00.000Z
                        end: 2025-01-31T23:59:59.000Z
                    tags:
                      - code: qualifier
                        list:
                          - code: min_value
                            value: "1000.00"
                      - code: benefit
                        list:
                          - code: value_type
                            value: amount
                          - code: value
                            value: "-150.00"
                      - code: meta
                        list:
                          - code: additive
                            value: yes
                          - code: auto
                            value: yes
                  - id: slab1
                    descriptor:
                      code: slab
                      images:
                        - https://seller-np.com/images/slab-offer-banner.webp
                    location_ids:
                      - L1
                    category_ids: []
                    item_ids:
                      - I5
                    time:
                      label: valid
                      range:
                        start: 2025-01-01T00:00:00.000Z
                        end: 2025-03-31T23:59:59.000Z
                    tags:
                      - code: qualifier
                        list:
                          - code: item_count
                            value: "10"
                          - code: item_count_upper
                            value: "19"
                      - code: benefit
                        list:
                          - code: value_type
                            value: percent
                          - code: value
                            value: "-5.00"
                          - code: value_cap
                            value: "-5000.00"
                      - code: meta
                        list:
                          - code: additive
                            value: no
                          - code: auto
                            value: yes
                  - id: slab2
                    descriptor:
                      code: slab
                      images:
                        - https://seller-np.com/images/slab-offer-banner.webp
                    location_ids:
                      - L2
                    category_ids: []
                    item_ids:
                      - I2
                    time:
                      label: valid
                      range:
                        start: 2025-01-01T00:00:00.000Z
                        end: 2025-03-31T23:59:59.000Z
                    tags:
                      - code: qualifier
                        list:
                          - code: item_weight
                            value: "150"
                          - code: item_weight_upper
                            value: "200"
                      - code: benefit
                        list:
                          - code: value_type
                            value: percent
                          - code: value
                            value: "-15.00"
                          - code: value_cap
                            value: "-1000.00"
                      - code: meta
                        list:
                          - code: additive
                            value: no
                          - code: auto
                            value: yes
                  - id: freebie1
                    descriptor:
                      code: freebie
                      images:
                        - https://seller-np.com/images/freebie-offer-banner.webp
                    location_ids:
                      - L1
                    category_ids: []
                    item_ids:
                      - I1
                    time:
                      label: valid
                      range:
                        start: 2025-01-01T00:00:00.000Z
                        end: 2025-01-31T23:59:59.000Z
                    tags:
                      - code: qualifier
                        list:
                          - code: item_count
                            value: "50"
                      - code: meta
                        list:
                          - code: additive
                            value: no
                          - code: auto
                            value: yes
                  - id: buy2get3
                    descriptor:
                      code: buyXgetY
                      images:
                        - https://snp.com/images/offer1-banner.webp
                    location_ids:
                      - L1
                    category_ids: []
                    item_ids:
                      - I1
                      - I2
                    time:
                      label: valid
                      range:
                        start: 2025-01-01T16:00:00.000Z
                        end: 2025-01-01T23:00:00.000Z
                    tags:
                      - code: qualifier
                        list:
                          - code: item_count
                            value: "2"
                      - code: benefit
                        list:
                          - code: item_count
                            value: "1"
                          - code: item_id
                            value: I1
                          - code: item_value
                            value: "0.00"
                      - code: meta
                        list:
                          - code: additive
                            value: no
                          - code: auto
                            value: yes
                items:
                  - id: I1
                    time:
                      label: enable
                      timestamp: 2025-01-08T07:30:00.000Z
                    parent_item_id: V1
                    descriptor:
                      name: Ashirwad Plain Atta 1kg
                      code: 1:XXXXXXXXXXXXX
                      symbol: https://seller-np.com/images/ashirwad-atta-1kg.png
                      short_desc: Ashirwad Plain Atta 1kg Pack
                      long_desc: Premium quality wheat flour
                      images:
                        - https://seller-np.com/images/ashirwad-atta-1kg.png
                    quantity:
                      unitized:
                        count: "10"
                        measure:
                          unit: kilogram
                          value: "1"
                      available:
                        count: "99"
                      maximum:
                        count: "100"
                      minimum:
                        count: "20"
                    price:
                      currency: INR
                      value: "52.00"
                      maximum_value: "55.00"
                    category_id: Atta, Flours and Sooji
                    fulfillment_id: F1
                    location_id: L1
                    "@ondc/org/returnable": true
                    "@ondc/org/cancellable": true
                    "@ondc/org/return_window": P2D
                    "@ondc/org/seller_pickup_return": true
                    "@ondc/org/time_to_ship": PT4H
                    "@ondc/org/available_on_cod": false
                    "@ondc/org/contact_details_consumer_care": support,support@abcdist.com,18004254444
                    "@ondc/org/statutory_reqs_packaged_commodities":
                      manufacturer_or_packer_name: ITC Limited
                      manufacturer_or_packer_address: ITC Quality Care Cell, P.O Box No.592, Bangalore-560005
                      common_or_generic_name_of_commodity: Wheat Flour (Atta)
                      month_year_of_manufacture_packing_import: 12/2024
                    "@ondc/org/statutory_reqs_prepackaged_food":
                      nutritional_info: Energy(KCal)-(per 100g) 348; Protein(g)-(per 100g) 11.8
                      additives_info: None
                      brand_owner_FSSAI_license_no: "12345678901234"
                      other_FSSAI_license_no: "12345678901234"
                      importer_FSSAI_license_no: ""
                    tags:
                      - code: origin
                        list:
                          - code: country
                            value: IND
                      - code: attribute
                        list:
                          - code: brand
                            value: Ashirwad
                      - code: veg_nonveg
                        list:
                          - code: veg
                            value: yes
                      - code: image
                        list:
                          - code: type
                            value: back_image
                          - code: url
                            value: https://seller-np.com/images/i1_back_image.png
                  - id: I2
                    time:
                      label: enable
                      timestamp: 2025-01-08T07:30:00.000Z
                    parent_item_id: V1
                    descriptor:
                      name: Ashirwad Plain Atta 5kg
                      code: 1:XXXXXXXXXXXXY
                      symbol: https://seller-np.com/images/ashirwad-atta-5kg.png
                      short_desc: Ashirwad Plain Atta 5kg Pack
                      long_desc: Premium quality wheat flour - bulk pack
                      images:
                        - https://seller-np.com/images/ashirwad-atta-5kg.png
                    quantity:
                      unitized:
                        count: "12"
                        measure:
                          unit: kilogram
                          value: "5"
                      available:
                        count: "99"
                      maximum:
                        count: "50"
                      minimum:
                        count: "10"
                    price:
                      currency: INR
                      value: "245.00"
                      maximum_value: "260.00"
                    category_id: Atta, Flours and Sooji
                    fulfillment_id: F1
                    location_id: L2
                    "@ondc/org/returnable": true
                    "@ondc/org/cancellable": true
                    "@ondc/org/return_window": P2D
                    "@ondc/org/seller_pickup_return": true
                    "@ondc/org/time_to_ship": PT4H
                    "@ondc/org/available_on_cod": false
                    "@ondc/org/contact_details_consumer_care": support,support@abcdist.com,18004254444
                    "@ondc/org/statutory_reqs_packaged_commodities":
                      manufacturer_or_packer_name: ITC Limited
                      manufacturer_or_packer_address: ITC Quality Care Cell, P.O Box No.592, Bangalore-560005
                      common_or_generic_name_of_commodity: Wheat Flour (Atta)
                      month_year_of_manufacture_packing_import: 12/2024
                    "@ondc/org/statutory_reqs_prepackaged_food":
                      nutritional_info: Energy(KCal)-(per 100g) 348; Protein(g)-(per 100g) 11.8
                      additives_info: None
                      brand_owner_FSSAI_license_no: "12345678901234"
                      other_FSSAI_license_no: "12345678901234"
                      importer_FSSAI_license_no: ""
                    tags:
                      - code: origin
                        list:
                          - code: country
                            value: IND
                      - code: attribute
                        list:
                          - code: brand
                            value: Ashirwad
                      - code: veg_nonveg
                        list:
                          - code: veg
                            value: yes
                      - code: image
                        list:
                          - code: type
                            value: back_image
                          - code: url
                            value: https://seller-np.com/images/i2_back_image.png
                  - id: I3
                    time:
                      label: enable
                      timestamp: 2025-01-08T07:30:00.000Z
                    parent_item_id: V1
                    descriptor:
                      name: Fortune Chakki Atta 1kg
                      code: 1:XXXXXXXXXXXXZ
                      symbol: https://seller-np.com/images/fortune-atta-1kg.png
                      short_desc: Fortune Chakki Fresh Atta 1kg Pack
                      long_desc: 100% whole wheat chakki atta
                      images:
                        - https://seller-np.com/images/fortune-atta-1kg.png
                    quantity:
                      unitized:
                        count: "15"
                        measure:
                          unit: kilogram
                          value: "1"
                      available:
                        count: "99"
                      maximum:
                        count: "80"
                      minimum:
                        count: "20"
                    price:
                      currency: INR
                      value: "48.00"
                      maximum_value: "52.00"
                    category_id: Atta, Flours and Sooji
                    fulfillment_id: F1
                    location_id: L1
                    "@ondc/org/returnable": true
                    "@ondc/org/cancellable": true
                    "@ondc/org/return_window": P2D
                    "@ondc/org/seller_pickup_return": true
                    "@ondc/org/time_to_ship": PT4H
                    "@ondc/org/available_on_cod": false
                    "@ondc/org/contact_details_consumer_care": Support,support@abcdist.com,18004254444
                    "@ondc/org/statutory_reqs_packaged_commodities":
                      manufacturer_or_packer_name: Adani Wilmar Limited
                      manufacturer_or_packer_address: Fortune House, Ahmedabad-380009
                      common_or_generic_name_of_commodity: Wheat Flour (Atta)
                      month_year_of_manufacture_packing_import: 12/2024
                    "@ondc/org/statutory_reqs_prepackaged_food":
                      nutritional_info: Energy(KCal)-(per 100g) 341; Protein(g)-(per 100g) 12.1
                      additives_info: None
                      brand_owner_FSSAI_license_no: "10012011000125"
                      other_FSSAI_license_no: "10012011000125"
                      importer_FSSAI_license_no: ""
                    tags:
                      - code: origin
                        list:
                          - code: country
                            value: IND
                      - code: attribute
                        list:
                          - code: brand
                            value: Fortune
                      - code: veg_nonveg
                        list:
                          - code: veg
                            value: yes
                      - code: image
                        list:
                          - code: type
                            value: back_image
                          - code: url
                            value: https://seller-np.com/images/i3_back_image.png
                  - id: I4
                    time:
                      label: enable
                      timestamp: 2025-01-08T07:30:00.000Z
                    parent_item_id: V1
                    descriptor:
                      name: Fortune Chakki Atta 5kg
                      code: 1:XXXXXXXXXXXXW
                      symbol: https://seller-np.com/images/fortune-atta-5kg.png
                      short_desc: Fortune Chakki Fresh Atta 5kg Pack
                      long_desc: 100% whole wheat chakki atta - bulk pack
                      images:
                        - https://seller-np.com/images/fortune-atta-5kg.png
                    quantity:
                      unitized:
                        count: "5"
                        measure:
                          unit: kilogram
                          value: "5"
                      available:
                        count: "99"
                      maximum:
                        count: "99"
                      minimum:
                        count: "10"
                    price:
                      currency: INR
                      value: "230.00"
                      maximum_value: "250.00"
                    category_id: Atta, Flours and Sooji
                    fulfillment_id: F1
                    location_id: L2
                    "@ondc/org/returnable": true
                    "@ondc/org/cancellable": true
                    "@ondc/org/return_window": P2D
                    "@ondc/org/seller_pickup_return": true
                    "@ondc/org/time_to_ship": PT4H
                    "@ondc/org/available_on_cod": false
                    "@ondc/org/contact_details_consumer_care": Support,support@abcdist.com,18004254444
                    "@ondc/org/statutory_reqs_packaged_commodities":
                      manufacturer_or_packer_name: Adani Wilmar Limited
                      manufacturer_or_packer_address: Fortune House, Ahmedabad-380009
                      common_or_generic_name_of_commodity: Wheat Flour (Atta)
                      month_year_of_manufacture_packing_import: 12/2024
                    "@ondc/org/statutory_reqs_prepackaged_food":
                      nutritional_info: Energy(KCal)-(per 100g) 341; Protein(g)-(per 100g) 12.1
                      additives_info: None
                      brand_owner_FSSAI_license_no: "10012011000125"
                      other_FSSAI_license_no: "10012011000125"
                      importer_FSSAI_license_no: ""
                    tags:
                      - code: origin
                        list:
                          - code: country
                            value: IND
                      - code: attribute
                        list:
                          - code: brand
                            value: Fortune
                      - code: veg_nonveg
                        list:
                          - code: veg
                            value: yes
                      - code: image
                        list:
                          - code: type
                            value: back_image
                          - code: url
                            value: https://seller-np.com/images/i4_back_image.png
                  - id: I5
                    time:
                      label: enable
                      timestamp: 2025-01-08T07:30:00.000Z
                    parent_item_id: V2
                    descriptor:
                      name: Coca-Cola 300ml (Case of 24)
                      code: 1:COCACOLA300ML24
                      symbol: https://seller-np.com/images/coke-300ml.png
                      short_desc: Coca-Cola 300ml Glass Bottle - Case of 24
                      long_desc: Coca-Cola 300ml Glass Bottle - Case of 24 bottles
                      images:
                        - https://seller-np.com/images/coke-300ml.png
                    quantity:
                      unitized:
                        count: "24"
                        measure:
                          unit: millilitre
                          value: "300"
                      available:
                        count: "99"
                      maximum:
                        count: "20"
                      minimum:
                        count: "5"
                    price:
                      currency: INR
                      value: "480.00"
                      maximum_value: "520.00"
                    category_id: Soft Drinks and Juices
                    fulfillment_id: F1
                    location_id: L1
                    "@ondc/org/returnable": true
                    "@ondc/org/cancellable": true
                    "@ondc/org/return_window": P1D
                    "@ondc/org/seller_pickup_return": true
                    "@ondc/org/time_to_ship": PT4H
                    "@ondc/org/available_on_cod": false
                    "@ondc/org/contact_details_consumer_care": Support,support@abcdist.com,18004254444
                    "@ondc/org/statutory_reqs_packaged_commodities":
                      manufacturer_or_packer_name: Hindustan Coca-Cola Beverages Pvt Ltd
                      manufacturer_or_packer_address: Coca-Cola India Pvt Ltd, Gurgaon, Haryana
                      common_or_generic_name_of_commodity: Carbonated Soft Drink
                      month_year_of_manufacture_packing_import: 01/2025
                    "@ondc/org/statutory_reqs_prepackaged_food":
                      nutritional_info: Energy(KCal)-(per 100ml) 42; Sugars(g)-(per 100ml) 10.6
                      additives_info: Carbonated Water, Sugar, Caramel Colour, Phosphoric Acid,
                        Caffeine
                      brand_owner_FSSAI_license_no: "10012011000011"
                      other_FSSAI_license_no: "10012011000011"
                      importer_FSSAI_license_no: ""
                    tags:
                      - code: origin
                        list:
                          - code: country
                            value: IND
                      - code: attribute
                        list:
                          - code: brand
                            value: Coca-Cola
                      - code: veg_nonveg
                        list:
                          - code: veg
                            value: yes
                  - id: I6
                    time:
                      label: enable
                      timestamp: 2025-01-08T07:30:00.000Z
                    parent_item_id: V2
                    descriptor:
                      name: Coca-Cola 2L (Pack of 6)
                      code: 1:COCACOLA2L6
                      symbol: https://seller-np.com/images/coke-2l.png
                      short_desc: Coca-Cola 2 Liter PET - Pack of 6
                      long_desc: Coca-Cola 2 Liter PET Bottle - Pack of 6 bottles
                      images:
                        - https://seller-np.com/images/coke-2l.png
                    quantity:
                      unitized:
                        count: "6"
                        measure:
                          unit: litre
                          value: "2"
                      available:
                        count: "99"
                      maximum:
                        count: "15"
                      minimum:
                        count: "3"
                    price:
                      currency: INR
                      value: "720.00"
                      maximum_value: "780.00"
                    category_id: Energy and Soft Drinks
                    fulfillment_id: F1
                    location_id: L2
                    "@ondc/org/returnable": true
                    "@ondc/org/cancellable": true
                    "@ondc/org/return_window": P1D
                    "@ondc/org/seller_pickup_return": true
                    "@ondc/org/time_to_ship": PT4H
                    "@ondc/org/available_on_cod": false
                    "@ondc/org/contact_details_consumer_care": support,support@abcdist.com,18004254444
                    "@ondc/org/statutory_reqs_packaged_commodities":
                      manufacturer_or_packer_name: Hindustan Coca-Cola Beverages Pvt Ltd
                      manufacturer_or_packer_address: Coca-Cola India Pvt Ltd, Gurgaon, Haryana
                      common_or_generic_name_of_commodity: Carbonated Soft Drink
                      month_year_of_manufacture_packing_import: 01/2025
                    "@ondc/org/statutory_reqs_prepackaged_food":
                      nutritional_info: Energy(KCal)-(per 100ml) 42; Sugars(g)-(per 100ml) 10.6
                      additives_info: Carbonated Water, Sugar, Caramel Colour, Phosphoric Acid,
                        Caffeine
                      brand_owner_FSSAI_license_no: "10012011000011"
                      other_FSSAI_license_no: "10012011000011"
                      importer_FSSAI_license_no: ""
                    tags:
                      - code: origin
                        list:
                          - code: country
                            value: IND
                      - code: attribute
                        list:
                          - code: brand
                            value: Coca-Cola
                      - code: veg_nonveg
                        list:
                          - code: veg
                            value: yes
                  - id: I7
                    time:
                      label: enable
                      timestamp: 2025-01-08T07:30:00.000Z
                    parent_item_id: V2
                    descriptor:
                      name: Pepsi 300ml (Case of 24)
                      code: 1:PEPSI300ML24
                      symbol: https://seller-np.com/images/pepsi-300ml.png
                      short_desc: Pepsi 300ml Glass Bottle - Case of 24
                      long_desc: Pepsi 300ml Glass Bottle - Case of 24 bottles
                      images:
                        - https://seller-np.com/images/pepsi-300ml.png
                    quantity:
                      unitized:
                        count: "24"
                        measure:
                          unit: millilitre
                          value: "300"
                      available:
                        count: "99"
                      maximum:
                        count: "25"
                      minimum:
                        count: "5"
                    price:
                      currency: INR
                      value: "460.00"
                      maximum_value: "500.00"
                    category_id: Energy and Soft Drinks
                    fulfillment_id: F1
                    location_id: L1
                    "@ondc/org/returnable": true
                    "@ondc/org/cancellable": true
                    "@ondc/org/return_window": P1D
                    "@ondc/org/seller_pickup_return": true
                    "@ondc/org/time_to_ship": PT4H
                    "@ondc/org/available_on_cod": false
                    "@ondc/org/contact_details_consumer_care": Support,support@abcdist.com,18004254444
                    "@ondc/org/statutory_reqs_packaged_commodities":
                      manufacturer_or_packer_name: Varun Beverages Ltd
                      manufacturer_or_packer_address: Gurgaon, Haryana
                      common_or_generic_name_of_commodity: Carbonated Soft Drink
                      month_year_of_manufacture_packing_import: 01/2025
                    "@ondc/org/statutory_reqs_prepackaged_food":
                      nutritional_info: Energy(KCal)-(per 100ml) 44; Sugars(g)-(per 100ml) 11
                      additives_info: Carbonated Water, Sugar, Phosphoric Acid, Caffeine
                      brand_owner_FSSAI_license_no: "10012011000022"
                      other_FSSAI_license_no: "10012011000022"
                      importer_FSSAI_license_no: ""
                    tags:
                      - code: origin
                        list:
                          - code: country
                            value: IND
                      - code: attribute
                        list:
                          - code: brand
                            value: Pepsi
                      - code: veg_nonveg
                        list:
                          - code: veg
                            value: yes
                  - id: I8
                    time:
                      label: enable
                      timestamp: 2025-01-08T07:30:00.000Z
                    parent_item_id: V2
                    descriptor:
                      name: Pepsi 2L (Pack of 6)
                      code: 1:PEPSI2L6
                      symbol: https://seller-np.com/images/pepsi-2l.png
                      short_desc: Pepsi 2 Liter PET - Pack of 6
                      long_desc: Pepsi 2 Liter PET Bottle - Pack of 6 bottles
                      images:
                        - https://seller-np.com/images/pepsi-2l.png
                    quantity:
                      unitized:
                        count: "6"
                        measure:
                          unit: litre
                          value: "2"
                      available:
                        count: "99"
                      maximum:
                        count: "15"
                      minimum:
                        count: "3"
                    price:
                      currency: INR
                      value: "690.00"
                      maximum_value: "750.00"
                    category_id: Energy and Soft Drinks
                    fulfillment_id: F1
                    location_id: L2
                    "@ondc/org/returnable": true
                    "@ondc/org/cancellable": true
                    "@ondc/org/return_window": P1D
                    "@ondc/org/seller_pickup_return": true
                    "@ondc/org/time_to_ship": PT4H
                    "@ondc/org/available_on_cod": false
                    "@ondc/org/contact_details_consumer_care": support,support@abcdist.com,18004254444
                    "@ondc/org/statutory_reqs_packaged_commodities":
                      manufacturer_or_packer_name: Varun Beverages Ltd
                      manufacturer_or_packer_address: Gurgaon, Haryana
                      common_or_generic_name_of_commodity: Carbonated Soft Drink
                      month_year_of_manufacture_packing_import: 01/2025
                    "@ondc/org/statutory_reqs_prepackaged_food":
                      nutritional_info: Energy(KCal)-(per 100ml) 44; Sugars(g)-(per 100ml) 11
                      additives_info: Carbonated Water, Sugar, Phosphoric Acid, Caffeine
                      brand_owner_FSSAI_license_no: "10012011000022"
                      other_FSSAI_license_no: "10012011000022"
                      importer_FSSAI_license_no: ""
                    tags:
                      - code: origin
                        list:
                          - code: country
                            value: IND
                      - code: attribute
                        list:
                          - code: brand
                            value: Pepsi
                      - code: veg_nonveg
                        list:
                          - code: veg
                            value: yes
                tags:
                  - code: order_value
                    list:
                      - code: min_value
                        value: "500.00"
                  - code: timing
                    list:
                      - code: type
                        value: Order
                      - code: location
                        value: L1
                      - code: day_from
                        value: "1"
                      - code: day_to
                        value: "7"
                      - code: time_from
                        value: "0000"
                      - code: time_to
                        value: "2359"
                  - code: timing
                    list:
                      - code: type
                        value: Delivery
                      - code: location
                        value: L1
                      - code: day_from
                        value: "1"
                      - code: day_to
                        value: "6"
                      - code: time_from
                        value: "0900"
                      - code: time_to
                        value: "1800"
                  - code: timing
                    list:
                      - code: type
                        value: Order
                      - code: location
                        value: L2
                      - code: day_from
                        value: "1"
                      - code: day_to
                        value: "7"
                      - code: time_from
                        value: "0000"
                      - code: time_to
                        value: "2359"
                  - code: timing
                    list:
                      - code: type
                        value: Delivery
                      - code: location
                        value: L2
                      - code: day_from
                        value: "1"
                      - code: day_to
                        value: "6"
                      - code: time_from
                        value: "0900"
                      - code: time_to
                        value: "1800"
                  - code: serviceability
                    list:
                      - code: location
                        value: L1
                      - code: category
                        value: Atta, Flours and Sooji
                      - code: type
                        value: "10"
                      - code: val
                        value: "15"
                      - code: unit
                        value: km
                  - code: serviceability
                    list:
                      - code: location
                        value: L2
                      - code: category
                        value: Atta, Flours and Sooji
                      - code: type
                        value: "10"
                      - code: val
                        value: "20"
                      - code: unit
                        value: km
                  - code: serviceability
                    list:
                      - code: location
                        value: L1
                      - code: category
                        value: "*"
                      - code: type
                        value: "13"
                      - code: unit
                        value: geojson
                      - code: val
                        value: '{"type": "FeatureCollection", "features": [{"type": "Feature",
                          "properties": {}, "geometry": {"coordinates":
                          [[[[77.4366, 14.6230], [75.5973, 13.2507], [76.8359,
                          11.9329], [78.7709, 11.3290]]], [[[75.6948, 15.9928],
                          [74.8319, 14.8515], [77.4006, 15.1229], [75.6948,
                          15.9928]]]], "type": "MultiPolygon"}}]}'
                      - code: day_from
                        value: "1"
                      - code: day_to
                        value: "7"
                      - code: time_from
                        value: "1000"
                      - code: time_to
                        value: "2200"
                  - code: serviceability
                    list:
                      - code: location
                        value: L2
                      - code: category
                        value: "*"
                      - code: type
                        value: "13"
                      - code: unit
                        value: geojson
                      - code: val
                        value: '{"type": "FeatureCollection", "features": [{"type": "Feature",
                          "properties": {}, "geometry": {"coordinates":
                          [[[77.1755, 28.6759], [77.1287, 28.6009], [77.4469,
                          28.5453], [77.1755, 28.6759]]], "type": "Polygon"}}]}'
                      - code: day_from
                        value: "1"
                      - code: day_to
                        value: "7"
                      - code: time_from
                        value: "1000"
                      - code: time_to
                        value: "2200"
                  - code: retailer_info_required
                    list:
                      - code: phone_number
                        value: "true"
                      - code: tax_number
                        value: "false"
                      - code: provider_tax_number
                        value: "false"
                      - code: shop_name
                        value: "true"
                      - code: email
                        value: "false"
                      - code: address
                        value: "true"
                      - code: type
                        value: new
                  - code: retailer_info_required
                    list:
                      - code: customer_id
                        value: "true"
                      - code: type
                        value: existing
                  - code: retailer_info_required
                    list:
                      - code: phone_number
                        value: "true"
                      - code: tax_number
                        value: "false"
                      - code: provider_tax_number
                        value: "true"
                      - code: type
                        value: existing
      saveData:
        transactionId: $.context.transaction_id
        latestMessage_id: $.context.message_id
        latestTimestamp: $.context.timestamp
        bapId: $.context.bap_id
        bapUri: $.context.bap_uri
        bppId: $.context.bpp_id
        bppUri: $.context.bpp_uri
        payload_list: $.message.catalog["bpp/providers"][0].tags[?(@.code=="retailer_info_required")].list
        payload_retailer: $.payload_retailer
      inputs: {}
  - api: search
    action_id: search-1
    owner: BAP
    responseFor: null
    unsolicited: false
    description: please add relevant description
    mock:
      generate: LyoqCiAqIEdlbmVyYXRlcyAvc2VhcmNoIHBheWxvYWQgZm9yIE9OREMgUkVUZUIyQiBiYXNlZCBvbiB1c2VyIGlucHV0cy4KICogU3VwcG9ydHM6CiAqICAtIE5ldyBSZXRhaWxlcgogKiAgLSBFeGlzdGluZyBSZXRhaWxlciB3aXRoIEN1c3RvbWVyIElECiAqICAtIEV4aXN0aW5nIFJldGFpbGVyIHdpdGhvdXQgQ3VzdG9tZXIgSUQKICovCmFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlKGRlZmF1bHRQYXlsb2FkLCBzZXNzaW9uRGF0YSkgewogIHRyeSB7CgoKICAgIGNvbnN0IGZ1bGZpbGxtZW50ID0gZGVmYXVsdFBheWxvYWQ/Lm1lc3NhZ2U/LmludGVudD8uZnVsZmlsbG1lbnQ7CiAgICBpZiAoIWZ1bGZpbGxtZW50KSByZXR1cm4gZGVmYXVsdFBheWxvYWQ7CgogICAgY29uc3QgaW5wdXQgPSBzZXNzaW9uRGF0YS51c2VyX2lucHV0czsKCiAgICBpZiAoaW5wdXQ/LmNpdHlfY29kZSkgewogICAgICBkZWZhdWx0UGF5bG9hZC5jb250ZXh0LmNpdHkgPSBpbnB1dC5jaXR5X2NvZGU7CiAgICAgIAogICAgfQoKICAgIAoKICAgIGlmICghaW5wdXQ/LnR5cGUpIHsKICAgCiAgICAgIHJldHVybiBkZWZhdWx0UGF5bG9hZDsKICAgIH0KCiAgICBsZXQgY3VzdG9tZXIgPSB7fTsKCiAgICBpZiAoaW5wdXQudHlwZSA9PT0gImV4aXN0aW5nIiAmJiBpbnB1dC5jdXN0b21lcl9pZCkgewogICAgICBjdXN0b21lci5pZCA9IGlucHV0LmN1c3RvbWVyX2lkOwogICAgfQoKCiAgICBlbHNlIHsKCiAgICAgIGlmIChpbnB1dC50YXhfbnVtYmVyIHx8IGlucHV0LnByb3ZpZGVyX3RheF9udW1iZXIpIHsKICAgICAgICBjdXN0b21lci5wZXJzb24gPSB7IGNyZWRzOiBbXSB9OwoKICAgICAgICBpZiAoaW5wdXQudGF4X251bWJlcikgewogICAgICAgICAgY3VzdG9tZXIucGVyc29uLmNyZWRzLnB1c2goewogICAgICAgICAgICBpZDogaW5wdXQudGF4X251bWJlciwKICAgICAgICAgICAgdHlwZTogInRheF9udW1iZXIiCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGlmIChpbnB1dC5wcm92aWRlcl90YXhfbnVtYmVyKSB7CiAgICAgICAgICBjdXN0b21lci5wZXJzb24uY3JlZHMucHVzaCh7CiAgICAgICAgICAgIGlkOiBpbnB1dC5wcm92aWRlcl90YXhfbnVtYmVyLAogICAgICAgICAgICB0eXBlOiAicHJvdmlkZXJfdGF4X251bWJlciIKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICJuZXciICYmIGlucHV0LnNob3BfbmFtZSkgewogICAgICAgIGN1c3RvbWVyLm9yZ2FuaXphdGlvbiA9IHsKICAgICAgICAgIGRlc2NyaXB0b3I6IHsgbmFtZTogaW5wdXQuc2hvcF9uYW1lIH0sCiAgICAgICAgICBhZGRyZXNzOiBpbnB1dC5hZGRyZXNzLAogICAgICAgICAgY2l0eTogeyBjb2RlOiBpbnB1dC5jaXR5X2NvZGUgfSwKICAgICAgICAgIHN0YXRlOiB7IGNvZGU6IGlucHV0LnN0YXRlX2NvZGUgfHwgIktBIiB9CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgaWYgKGlucHV0LnBob25lX251bWJlciB8fCBpbnB1dC5lbWFpbCkgewogICAgICAgIGN1c3RvbWVyLmNvbnRhY3QgPSB7fTsKICAgICAgICBpZiAoaW5wdXQucGhvbmVfbnVtYmVyKSBjdXN0b21lci5jb250YWN0LnBob25lID0gaW5wdXQucGhvbmVfbnVtYmVyOwogICAgICAgIGlmIChpbnB1dC5lbWFpbCkgY3VzdG9tZXIuY29udGFjdC5lbWFpbCA9IGlucHV0LmVtYWlsOwogICAgICB9CiAgICB9CgogICAgaWYgKE9iamVjdC5rZXlzKGN1c3RvbWVyKS5sZW5ndGggPiAwKSB7CiAgICAgIGZ1bGZpbGxtZW50LmN1c3RvbWVyID0gY3VzdG9tZXI7CiAgICAgCiAgICB9IGVsc2UgewogICAgICBjb25zb2xlLmxvZygiQ3VzdG9tZXIgb2JqZWN0IGVtcHR5IOKAlCBub3RoaW5nIGFwcGVuZGVkIik7CiAgICB9CgogICAKICAgIHJldHVybiBkZWZhdWx0UGF5bG9hZDsKCiAgfSBjYXRjaCAoZXJyKSB7CiAgICBjb25zb2xlLmVycm9yKCJFUlJPUjoiLCBlcnIpOwogICAgcmV0dXJuIGRlZmF1bHRQYXlsb2FkOwogIH0KfQoKCgoKCgoKCgoKCgoKCgoKCgo=
      validate: LyoqCiAqIFZhbGlkYXRlcyB0aGUgaW5jb21pbmcgcmVxdWVzdCBwYXlsb2FkIGZvciBhbiBBUEkgY2FsbCBpbiB0aGUgdHJhbnNhY3Rpb24gZmxvdy4KICogCiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRQYXlsb2FkIC0gVGhlIGluY29taW5nIHJlcXVlc3QgcGF5bG9hZCB0byB2YWxpZGF0ZS4KICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25EYXRhIC0gRGF0YSBjb2xsZWN0ZWQgZnJvbSBwcmV2aW91cyB0cmFuc2FjdGlvbiBzdGVwcy4KICogCiAqIEByZXR1cm5zIHtPYmplY3R9IHsgdmFsaWQ6IGJvb2xlYW4sIGNvZGU6IG51bWJlciwgZGVzY3JpcHRpb246IHN0cmluZyB9CiAqLwpmdW5jdGlvbiB2YWxpZGF0ZSh0YXJnZXRQYXlsb2FkLCBzZXNzaW9uRGF0YSkgewogIHJldHVybiB7IHZhbGlkOiB0cnVlLCBjb2RlOiAyMDAsIGRlc2NyaXB0aW9uOiAiVmFsaWQgcmVxdWVzdCIgfTsKfQ==
      requirements: LyoqCiAqIENoZWNrcyBpZiB0aGUgcmVxdWlyZW1lbnRzIGZvciBwcm9jZWVkaW5nIHdpdGggdGhlIEFQSSBjYWxsIGFyZSBtZXQuCiAqIAogKiBAcGFyYW0ge09iamVjdH0gc2Vzc2lvbkRhdGEgLSBEYXRhIGNvbGxlY3RlZCBmcm9tIHByZXZpb3VzIHRyYW5zYWN0aW9uIHN0ZXBzLgogKiAKICogQHJldHVybnMge09iamVjdH0geyB2YWxpZDogYm9vbGVhbiwgY29kZTogbnVtYmVyLCBkZXNjcmlwdGlvbjogc3RyaW5nIH0KICovCmZ1bmN0aW9uIG1lZXRzUmVxdWlyZW1lbnRzKHNlc3Npb25EYXRhKSB7CiAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGNvZGU6IDIwMCwgZGVzY3JpcHRpb246ICJSZXF1aXJlbWVudHMgbWV0IiB9Owp9
      defaultPayload:
        context:
          domain: ONDC:RETeB2B
          action: search
          timestamp: 2026-02-06T09:02:16.602Z
          transaction_id: 9e8654ed-0dd3-4315-81f2-814780f13e79
          message_id: a00b132e-ef4b-4148-b65f-887c524d327c
          bap_id: sample-bap-id
          bap_uri: https://bap.example.com
          ttl: PT30S
          country: IND
          city: "*"
          core_version: 1.2.5
        message:
          intent:
            provider:
              id: P1
            fulfillment:
              type: Delivery
      saveData:
        transactionId: $.context.transaction_id
        latestMessage_id: $.context.message_id
        latestTimestamp: $.context.timestamp
        bapId: $.context.bap_id
        bapUri: $.context.bap_uri
        bppId: $.context.bpp_id
        bppUri: $.context.bpp_uri
        search_request: $
        providerData: $.message.catalog["bpp/providers"][0]
        customerData: $.message.intent.fulfillment.customer
      inputs:
        id: RetailerCustomerInput
        jsonSchema:
          $schema: http://json-schema.org/draft-07/schema#
          type: object
          properties:
            type:
              type: string
              enum:
                - new
                - existing
              description: Retailer type
            customer_id:
              type: string
              description: "Customer ID "
            phone_number:
              type: string
              description: Retailer phone number
            email:
              type: string
              format: email
              description: Retailer email address
            tax_number:
              type: string
              description: GST / Tax number
            provider_tax_number:
              type: string
              description: PAN / Provider tax number
            shop_name:
              type: string
              description: Retailer shop name
            address:
              type: string
              description: Retailer address
            city_code:
              type: string
              description: City code
            state_code:
              type: string
              description: State code (default KA)
          required:
            - type
          additionalProperties: false
  - api: on_search
    action_id: on_search-1
    owner: BPP
    responseFor: search-1
    unsolicited: false
    description: please add relevant description
    mock:
      generate: LyoqCiAqIEdlbmVyYXRlcyB0aGUgbW9jayBwYXlsb2FkIGZvciBhbiBBUEkgY2FsbCBpbiB0aGUgdHJhbnNhY3Rpb24gZmxvdy4KICogVGhpcyBmdW5jdGlvbiBhbGxvd3MgY3VzdG9taXphdGlvbiBvZiB0aGUgZGVmYXVsdCBwYXlsb2FkIHVzaW5nIHNlc3Npb24gZGF0YQogKiBmcm9tIHByZXZpb3VzIHN0ZXBzIGFuZCB1c2VyIGlucHV0cy4KICogCiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0UGF5bG9hZCAtIFRoZSBiYXNlIHBheWxvYWQgb2JqZWN0IHdpdGggY29udGV4dCBhbHJlYWR5IHBvcHVsYXRlZC4KICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25EYXRhIC0gRGF0YSBjb2xsZWN0ZWQgZnJvbSBwcmV2aW91cyB0cmFuc2FjdGlvbiBzdGVwcy4KICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25EYXRhLnVzZXJfaW5wdXRzIC0gVXNlci1wcm92aWRlZCBpbnB1dCB2YWx1ZXMgZm9yIHRoaXMgc3RlcC4KICogQHBhcmFtIHsqfSBzZXNzaW9uRGF0YS5ba2V5XSAtIEFueSBzYXZlZCBkYXRhIGZyb20gcHJldmlvdXMgc3RlcHMgKGRlZmluZWQgaW4gc2F2ZURhdGEgY29uZmlnKS4KICogCiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBnZW5lcmF0ZWQgcGF5bG9hZCBvYmplY3QgdG8gYmUgc2VudCBpbiB0aGUgQVBJIHJlcXVlc3QuCiAqLwogCgphc3luYyBmdW5jdGlvbiBnZW5lcmF0ZShkZWZhdWx0UGF5bG9hZCwgc2Vzc2lvbkRhdGEpIHsKICB0cnkgewogICAKCiAgICBjb25zdCBzYXZlZEN1c3RvbWVyID0gc2Vzc2lvbkRhdGEuY3VzdG9tZXJEYXRhOwoKICAgIGNvbnN0IHByb3ZpZGVycyA9CiAgICAgIGRlZmF1bHRQYXlsb2FkPy5tZXNzYWdlPy5jYXRhbG9nPy5bImJwcC9wcm92aWRlcnMiXTsKCiAgICBpZiAoIXByb3ZpZGVycyB8fCBwcm92aWRlcnMubGVuZ3RoID09PSAwKSB7CiAgICAgIAogICAgICByZXR1cm4gZGVmYXVsdFBheWxvYWQ7CiAgICB9CgogICAgY29uc3QgcHJvdmlkZXIgPSBwcm92aWRlcnNbMF07CgogICAgaWYgKCFwcm92aWRlci50YWdzKSB7CiAgICAgIHByb3ZpZGVyLnRhZ3MgPSBbXTsKICAgIH0KCiAgCiAgICBwcm92aWRlci50YWdzID0gcHJvdmlkZXIudGFncy5maWx0ZXIodGFnID0+IHRhZy5jb2RlICE9PSAiY3VzdG9tZXIiKTsKCiAgICBsZXQgY3VzdG9tZXJJZDsKCiAgICBpZiAoc2F2ZWRDdXN0b21lcj8uaWQpIHsKICAgICAgCiAgICAgIGN1c3RvbWVySWQgPSBzYXZlZEN1c3RvbWVyLmlkOwogICAgICAKICAgIH0gZWxzZSB7CiAgIAogICAgICBjb25zdCB0eG4gPSBkZWZhdWx0UGF5bG9hZD8uY29udGV4dD8udHJhbnNhY3Rpb25faWQgfHwgRGF0ZS5ub3coKTsKICAgICAgY3VzdG9tZXJJZCA9IGBDVVNULSR7dHhuLnN1YnN0cmluZygwLCA4KX1gOwogICAKICAgIH0KCgogICAgcHJvdmlkZXIudGFncy5wdXNoKHsKICAgICAgY29kZTogImN1c3RvbWVyIiwKICAgICAgbGlzdDogWwogICAgICAgIHsKICAgICAgICAgIGNvZGU6ICJpZCIsCiAgICAgICAgICB2YWx1ZTogY3VzdG9tZXJJZAogICAgICAgIH0KICAgICAgXQogICAgfSk7CgoKCiAgICByZXR1cm4gZGVmYXVsdFBheWxvYWQ7CgogIH0gY2F0Y2ggKGUpIHsKICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIDoiLCBlKTsKICAgIHJldHVybiB7CiAgICAgIGNvbnRleHQ6IGRlZmF1bHRQYXlsb2FkPy5jb250ZXh0IHx8IHt9LAogICAgICBlcnJvcjogZT8ubWVzc2FnZSB8fCAidW5rbm93biBlcnJvciIKICAgIH07CiAgfQp9CgoKCgoKCgoK
      validate: LyoqCiAqIFZhbGlkYXRlcyB0aGUgaW5jb21pbmcgcmVxdWVzdCBwYXlsb2FkIGZvciBhbiBBUEkgY2FsbCBpbiB0aGUgdHJhbnNhY3Rpb24gZmxvdy4KICogCiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRQYXlsb2FkIC0gVGhlIGluY29taW5nIHJlcXVlc3QgcGF5bG9hZCB0byB2YWxpZGF0ZS4KICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25EYXRhIC0gRGF0YSBjb2xsZWN0ZWQgZnJvbSBwcmV2aW91cyB0cmFuc2FjdGlvbiBzdGVwcy4KICogCiAqIEByZXR1cm5zIHtPYmplY3R9IHsgdmFsaWQ6IGJvb2xlYW4sIGNvZGU6IG51bWJlciwgZGVzY3JpcHRpb246IHN0cmluZyB9CiAqLwpmdW5jdGlvbiB2YWxpZGF0ZSh0YXJnZXRQYXlsb2FkLCBzZXNzaW9uRGF0YSkgewogIHJldHVybiB7IHZhbGlkOiB0cnVlLCBjb2RlOiAyMDAsIGRlc2NyaXB0aW9uOiAiVmFsaWQgcmVxdWVzdCIgfTsKfQ==
      requirements: LyoqCiAqIENoZWNrcyBpZiB0aGUgcmVxdWlyZW1lbnRzIGZvciBwcm9jZWVkaW5nIHdpdGggdGhlIEFQSSBjYWxsIGFyZSBtZXQuCiAqIAogKiBAcGFyYW0ge09iamVjdH0gc2Vzc2lvbkRhdGEgLSBEYXRhIGNvbGxlY3RlZCBmcm9tIHByZXZpb3VzIHRyYW5zYWN0aW9uIHN0ZXBzLgogKiAKICogQHJldHVybnMge09iamVjdH0geyB2YWxpZDogYm9vbGVhbiwgY29kZTogbnVtYmVyLCBkZXNjcmlwdGlvbjogc3RyaW5nIH0KICovCmZ1bmN0aW9uIG1lZXRzUmVxdWlyZW1lbnRzKHNlc3Npb25EYXRhKSB7CiAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGNvZGU6IDIwMCwgZGVzY3JpcHRpb246ICJSZXF1aXJlbWVudHMgbWV0IiB9Owp9
      defaultPayload:
        context:
          domain: ONDC:RETeB2B
          action: on_search
          timestamp: 2026-02-06T11:16:08.100Z
          transaction_id: 9e8654ed-0dd3-4315-81f2-814780f13e79
          message_id: 5ee0dccd-f011-4bef-a213-27e651e79458
          bap_id: sample-bap-id
          bap_uri: https://bap.example.com
          ttl: PT30S
          bpp_id: sample-bpp-id
          bpp_uri: https://bpp.example.com
          country: IND
          city: "*"
          core_version: 1.2.5
        message:
          catalog:
            bpp/providers:
              - id: P1
                offers:
                  - id: discp10
                    tags:
                      - code: scheme_progress
                        list:
                          - code: target_quantity
                            value: "100"
                          - code: remaining_quantity
                            value: "35"
                          - code: valid_till
                            value: 2025-03-31T23:59:59.000Z
                          - code: tier
                            value: silver
                  - id: flat150
                    tags:
                      - code: scheme_progress
                        list:
                          - code: target_quantity
                            value: "200"
                          - code: remaining_quantity
                            value: "50"
                          - code: valid_till
                            value: 2025-03-31T23:59:59.000Z
                          - code: tier
                            value: silver
                  - id: slab1
                    tags:
                      - code: scheme_progress
                        list:
                          - code: target_purchase_value
                            value: "50000"
                          - code: remaining_purchase_value
                            value: "25700"
                          - code: valid_till
                            value: 2025-03-31T23:59:59.000Z
                          - code: tier
                            value: silver
                  - id: freebie1
                    tags:
                      - code: scheme_progress
                        list:
                          - code: target_quantity
                            value: "200"
                          - code: remaining_quantity
                            value: "50"
                          - code: valid_till
                            value: 2025-03-31T23:59:59.000Z
                          - code: tier
                            value: silver
                  - id: buy2get3
                    tags:
                      - code: scheme_progress
                        list:
                          - code: target_quantity
                            value: "500"
                          - code: remaining_quantity
                            value: "50"
                          - code: valid_till
                            value: 2025-03-31T23:59:59.000Z
                          - code: tier
                            value: silver
                tags:
                  - code: credit
                    list:
                      - code: credit_limit
                        value: "25000.00"
                      - code: valid_till
                        value: 2025-01-08T08:10:30.000Z
                  - code: poc
                    list:
                      - code: name
                        value: Rajesh Kumar
                      - code: phone
                        value: "9876543210"
                      - code: email
                        value: rajesh.kumar@abcdist.com
      saveData:
        transactionId: $.context.transaction_id
        latestMessage_id: $.context.message_id
        latestTimestamp: $.context.timestamp
        bapId: $.context.bap_id
        bapUri: $.context.bap_uri
        bppId: $.context.bpp_id
        bppUri: $.context.bpp_uri
      inputs: {}
transaction_history:
  - action_id: search-0
    payload:
      context:
        domain: ONDC:RETeB2B
        action: search
        timestamp: 2026-02-12T12:01:04.249Z
        transaction_id: 9e8654ed-0dd3-4315-81f2-814780f13e79
        message_id: d111e8ee-ce3d-49c2-b458-73c54e779510
        bap_id: sample-bap-id
        bap_uri: https://bap.example.com
        ttl: PT30S
        country: IND
        city: std:080
        core_version: 1.2.5
      message:
        intent:
          category:
            id: Energy and Soft Drinks
          fulfillment:
            type: Delivery
          payment:
            "@ondc/org/buyer_app_finder_fee_type": percent
            "@ondc/org/buyer_app_finder_fee_amount": "3.54"
          tags:
            - code: bap_terms
              list:
                - code: static_terms
                  value: ""
                - code: static_terms_new
                  value: https://github.com/ONDC-Official/NP-Static-Terms/buyerNP_BNP/1.0/tc.pdf
                - code: effective_date
                  value: 2026-02-22T12:01:04.262Z
            - code: bap_features
              list:
                - code: 01A
                  value: yes
    saved_info: {}
validationLib: ""
helperLib: LyoKCUN1c3RvbSBoZWxwZXIgZnVuY3Rpb25zIGF2YWlsYWJsZSBpbiBhbGwgbW9jayBnZW5lcmF0aW9uIGZ1bmN0aW9ucy4KCXRoZXNlIGFyZSBhcHBlbmRlZCBiZWxvdyB0aGUgZ2VuZXJhdGUgZnVuY3Rpb24gZm9yIGVhY2ggc3RlcC4KKi8KCi8vIEdlbmVyYXRlcyBhIFVVSUQgdjQKZnVuY3Rpb24gdXVpZHY0KCkgewoJcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHsKCSAgY29uc3QgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDA7CgkgIGNvbnN0IHYgPSBjID09PSAneCcgPyByIDogKHIgJiAweDMgfCAweDgpOwoJICByZXR1cm4gdi50b1N0cmluZygxNik7Cgl9KTsKfQoKLy8gR2VuZXJhdGUgYSA2IGRpZ2l0IHN0cmluZyBJRApmdW5jdGlvbiBnZW5lcmF0ZTZEaWdpdElkKCkgewoJcmV0dXJuIE1hdGguZmxvb3IoMTAwMDAwICsgTWF0aC5yYW5kb20oKSAqIDkwMDAwMCkudG9TdHJpbmcoKTsKfQoKLy8gUmV0dXJucyB0aGUgY3VycmVudCBJU08gdGltZXN0YW1wCmZ1bmN0aW9uIGN1cnJlbnRUaW1lc3RhbXAoKSB7CglyZXR1cm4gbmV3IERhdGUoKS50b0lTT1N0cmluZygpOwp9CgovLyBDb252ZXJ0cyBJU08gODYwMSBkdXJhdGlvbiBzdHJpbmcgdG8gdG90YWwgc2Vjb25kcwpjb25zdCBpc29EdXJUb1NlYyA9IChkdXJhdGlvbikgPT4gewogIGNvbnN0IGR1clJFID0gL1AoKGQrKVkpPygoZCspTSk/KChkKylXKT8oKGQrKUQpP1Q/KChkKylIKT8oKGQrKU0pPygoZCspUyk/LzsKICBjb25zdCBzID0gZHVyUkUuZXhlYyhkdXJhdGlvbik7CiAgaWYgKCFzKSByZXR1cm4gMDsKICAKICByZXR1cm4gKE51bWJlcihzPy5bMl0pIHx8IDApICogMzE1MzYwMDAgKwoJKE51bWJlcihzPy5bNF0pIHx8IDApICogMjYyODI4OCArCgkoTnVtYmVyKHM/Lls2XSkgfHwgMCkgKiA2MDQ4MDAgKwoJKE51bWJlcihzPy5bOF0pIHx8IDApICogODY0MDAgKwoJKE51bWJlcihzPy5bMTBdKSB8fCAwKSAqIDM2MDAgKwoJKE51bWJlcihzPy5bMTJdKSB8fCAwKSAqIDYwICsKCShOdW1iZXIocz8uWzE0XSkgfHwgMCk7Cn07
